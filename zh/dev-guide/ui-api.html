<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>UI æ’ä»¶ API | NornJ CLI</title>
    <meta name="description" content="ğŸ› ï¸ å¯é…ç½®åŒ–ã€æ˜“äºæ‰©å±•çš„è„šæ‰‹æ¶å·¥å…·">
    <link rel="icon" href="/nornj-cli/favicon.png">
  <link rel="manifest" href="/nornj-cli/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/nornj-cli/icons/apple-touch-icon-152x152.png">
  <link rel="mask-icon" href="/nornj-cli/icons/safari-pinned-tab.svg" color="#3eaf7c">
  <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/nornj-cli/assets/css/0.styles.f5d1342c.css" as="style"><link rel="preload" href="/nornj-cli/assets/js/app.2af35da0.js" as="script"><link rel="preload" href="/nornj-cli/assets/js/3.044bb90b.js" as="script"><link rel="preload" href="/nornj-cli/assets/js/52.df5b773f.js" as="script"><link rel="prefetch" href="/nornj-cli/assets/js/10.61c0fe77.js"><link rel="prefetch" href="/nornj-cli/assets/js/11.ee8fc85a.js"><link rel="prefetch" href="/nornj-cli/assets/js/12.14ce86e1.js"><link rel="prefetch" href="/nornj-cli/assets/js/13.0a6f81bc.js"><link rel="prefetch" href="/nornj-cli/assets/js/14.da778ea5.js"><link rel="prefetch" href="/nornj-cli/assets/js/15.1579102e.js"><link rel="prefetch" href="/nornj-cli/assets/js/16.1652fb04.js"><link rel="prefetch" href="/nornj-cli/assets/js/17.82d06588.js"><link rel="prefetch" href="/nornj-cli/assets/js/18.a9a39c2d.js"><link rel="prefetch" href="/nornj-cli/assets/js/19.983dd239.js"><link rel="prefetch" href="/nornj-cli/assets/js/20.dbae6c26.js"><link rel="prefetch" href="/nornj-cli/assets/js/21.07063763.js"><link rel="prefetch" href="/nornj-cli/assets/js/22.6890c09b.js"><link rel="prefetch" href="/nornj-cli/assets/js/23.8802733f.js"><link rel="prefetch" href="/nornj-cli/assets/js/24.5cc9dec1.js"><link rel="prefetch" href="/nornj-cli/assets/js/25.d704f5b8.js"><link rel="prefetch" href="/nornj-cli/assets/js/26.3adc3584.js"><link rel="prefetch" href="/nornj-cli/assets/js/27.b1233d47.js"><link rel="prefetch" href="/nornj-cli/assets/js/28.1f5e218b.js"><link rel="prefetch" href="/nornj-cli/assets/js/29.9a5dacc3.js"><link rel="prefetch" href="/nornj-cli/assets/js/30.c57a7876.js"><link rel="prefetch" href="/nornj-cli/assets/js/31.fd8998f8.js"><link rel="prefetch" href="/nornj-cli/assets/js/32.2da9e08f.js"><link rel="prefetch" href="/nornj-cli/assets/js/33.ba37e306.js"><link rel="prefetch" href="/nornj-cli/assets/js/34.0a09bca4.js"><link rel="prefetch" href="/nornj-cli/assets/js/35.ada2442d.js"><link rel="prefetch" href="/nornj-cli/assets/js/36.2505a232.js"><link rel="prefetch" href="/nornj-cli/assets/js/37.ad199bee.js"><link rel="prefetch" href="/nornj-cli/assets/js/38.fbfa272a.js"><link rel="prefetch" href="/nornj-cli/assets/js/39.0bb56207.js"><link rel="prefetch" href="/nornj-cli/assets/js/4.1977180c.js"><link rel="prefetch" href="/nornj-cli/assets/js/40.e715c128.js"><link rel="prefetch" href="/nornj-cli/assets/js/41.97c8ffe9.js"><link rel="prefetch" href="/nornj-cli/assets/js/42.4cfe9422.js"><link rel="prefetch" href="/nornj-cli/assets/js/43.6fbde685.js"><link rel="prefetch" href="/nornj-cli/assets/js/44.2569c360.js"><link rel="prefetch" href="/nornj-cli/assets/js/45.a75617dc.js"><link rel="prefetch" href="/nornj-cli/assets/js/46.41070f80.js"><link rel="prefetch" href="/nornj-cli/assets/js/47.56ce3f1d.js"><link rel="prefetch" href="/nornj-cli/assets/js/48.64141125.js"><link rel="prefetch" href="/nornj-cli/assets/js/49.f389b16f.js"><link rel="prefetch" href="/nornj-cli/assets/js/5.a60171ae.js"><link rel="prefetch" href="/nornj-cli/assets/js/50.00c99fd4.js"><link rel="prefetch" href="/nornj-cli/assets/js/51.c73c2e49.js"><link rel="prefetch" href="/nornj-cli/assets/js/53.19846356.js"><link rel="prefetch" href="/nornj-cli/assets/js/54.1da29981.js"><link rel="prefetch" href="/nornj-cli/assets/js/55.b65b476e.js"><link rel="prefetch" href="/nornj-cli/assets/js/56.440d9487.js"><link rel="prefetch" href="/nornj-cli/assets/js/57.0cfd2d44.js"><link rel="prefetch" href="/nornj-cli/assets/js/58.29b19b73.js"><link rel="prefetch" href="/nornj-cli/assets/js/59.460cf1e2.js"><link rel="prefetch" href="/nornj-cli/assets/js/6.0d9aa54c.js"><link rel="prefetch" href="/nornj-cli/assets/js/60.67ea2f6b.js"><link rel="prefetch" href="/nornj-cli/assets/js/61.93e5b151.js"><link rel="prefetch" href="/nornj-cli/assets/js/62.3efaba13.js"><link rel="prefetch" href="/nornj-cli/assets/js/63.f28d6173.js"><link rel="prefetch" href="/nornj-cli/assets/js/64.8c626887.js"><link rel="prefetch" href="/nornj-cli/assets/js/65.e00bf855.js"><link rel="prefetch" href="/nornj-cli/assets/js/66.9e0c8fab.js"><link rel="prefetch" href="/nornj-cli/assets/js/67.6053132a.js"><link rel="prefetch" href="/nornj-cli/assets/js/68.7e261eed.js"><link rel="prefetch" href="/nornj-cli/assets/js/7.b3413736.js"><link rel="prefetch" href="/nornj-cli/assets/js/8.84b46711.js"><link rel="prefetch" href="/nornj-cli/assets/js/9.8606ac64.js"><link rel="prefetch" href="/nornj-cli/assets/js/vendors~docsearch.135fa21b.js">
    <link rel="stylesheet" href="/nornj-cli/assets/css/0.styles.f5d1342c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/nornj-cli/zh/" class="home-link router-link-active"><!----> <span class="site-name">NornJ CLI</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/nornj-cli/zh/guide/installation.html" class="nav-link">æŒ‡å—</a></div><div class="nav-item"><a href="/nornj-cli/zh/config/" class="nav-link">é…ç½®å‚è€ƒ</a></div><div class="nav-item"><a href="/nornj-cli/zh/dev-guide/" class="nav-link router-link-active">æ‰©å±•å¼€å‘æŒ‡å—</a></div><div class="nav-item"><a href="https://github.com/joe-sky/nornj-cli/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æ›´æ–°è®°å½•
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">é€‰æ‹©è¯­è¨€</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/nornj-cli/dev-guide/ui-api.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/nornj-cli/zh/dev-guide/ui-api.html" class="nav-link router-link-exact-active router-link-active">ç®€ä½“ä¸­æ–‡</a></li></ul></div></div> <a href="https://github.com/joe-sky/nornj-cli" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/nornj-cli/zh/guide/installation.html" class="nav-link">æŒ‡å—</a></div><div class="nav-item"><a href="/nornj-cli/zh/config/" class="nav-link">é…ç½®å‚è€ƒ</a></div><div class="nav-item"><a href="/nornj-cli/zh/dev-guide/" class="nav-link router-link-active">æ‰©å±•å¼€å‘æŒ‡å—</a></div><div class="nav-item"><a href="https://github.com/joe-sky/nornj-cli/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æ›´æ–°è®°å½•
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">é€‰æ‹©è¯­è¨€</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/nornj-cli/dev-guide/ui-api.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/nornj-cli/zh/dev-guide/ui-api.html" class="nav-link router-link-exact-active router-link-active">ç®€ä½“ä¸­æ–‡</a></li></ul></div></div> <a href="https://github.com/joe-sky/nornj-cli" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/nornj-cli/zh/dev-guide/plugin-dev.html" class="sidebar-link">æ’ä»¶å¼€å‘æŒ‡å—</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>UI å¼€å‘</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/nornj-cli/zh/dev-guide/ui-info.html" class="sidebar-link">UI æ’ä»¶ä¿¡æ¯</a></li><li><a href="/nornj-cli/zh/dev-guide/ui-api.html" class="active sidebar-link">UI æ’ä»¶ API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#ui-æ–‡ä»¶" class="sidebar-link">UI æ–‡ä»¶</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#é¡¹ç›®æœ¬åœ°çš„æ’ä»¶" class="sidebar-link">é¡¹ç›®æœ¬åœ°çš„æ’ä»¶</a></li></ul></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#å¼€å‘æ¨¡å¼" class="sidebar-link">å¼€å‘æ¨¡å¼</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#é¡¹ç›®çš„é…ç½®" class="sidebar-link">é¡¹ç›®çš„é…ç½®</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#é…ç½®å›¾æ ‡" class="sidebar-link">é…ç½®å›¾æ ‡</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#é…ç½®æ–‡ä»¶" class="sidebar-link">é…ç½®æ–‡ä»¶</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#å±•ç¤ºé…ç½®æç¤ºç¬¦" class="sidebar-link">å±•ç¤ºé…ç½®æç¤ºç¬¦</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#é…ç½®é€‰é¡¹å¡" class="sidebar-link">é…ç½®é€‰é¡¹å¡</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#ä¿å­˜é…ç½®å˜æ›´" class="sidebar-link">ä¿å­˜é…ç½®å˜æ›´</a></li></ul></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#é¡¹ç›®çš„ä»»åŠ¡" class="sidebar-link">é¡¹ç›®çš„ä»»åŠ¡</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#ä»»åŠ¡å›¾æ ‡" class="sidebar-link">ä»»åŠ¡å›¾æ ‡</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#ä»»åŠ¡å‚æ•°" class="sidebar-link">ä»»åŠ¡å‚æ•°</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#ä»»åŠ¡é’©å­" class="sidebar-link">ä»»åŠ¡é’©å­</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#ä»»åŠ¡è§†å›¾" class="sidebar-link">ä»»åŠ¡è§†å›¾</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#æ–°å¢ä»»åŠ¡" class="sidebar-link">æ–°å¢ä»»åŠ¡</a></li></ul></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#æç¤ºç¬¦" class="sidebar-link">æç¤ºç¬¦</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#switch-ç¤ºä¾‹" class="sidebar-link">Switch ç¤ºä¾‹</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#select-ç¤ºä¾‹" class="sidebar-link">Select ç¤ºä¾‹</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#input-ç¤ºä¾‹" class="sidebar-link">Input ç¤ºä¾‹</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#checkbox-ç¤ºä¾‹" class="sidebar-link">Checkbox ç¤ºä¾‹</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#å–è‰²å™¨ç¤ºä¾‹" class="sidebar-link">å–è‰²å™¨ç¤ºä¾‹</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#æç¤ºç¬¦çš„æ”¹è¿›" class="sidebar-link">æç¤ºç¬¦çš„æ”¹è¿›</a></li></ul></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#å®¢æˆ·ç«¯-addon" class="sidebar-link">å®¢æˆ·ç«¯ addon</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#åˆ›å»ºä¸€ä¸ªå®¢æˆ·ç«¯-addon" class="sidebar-link">åˆ›å»ºä¸€ä¸ªå®¢æˆ·ç«¯ addon</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#clientaddonapi" class="sidebar-link">ClientAddonApi</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#æ³¨å†Œå®¢æˆ·ç«¯-addon" class="sidebar-link">æ³¨å†Œå®¢æˆ·ç«¯ addon</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#ä½¿ç”¨å®¢æˆ·ç«¯-addon" class="sidebar-link">ä½¿ç”¨å®¢æˆ·ç«¯ addon</a></li></ul></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#è‡ªå®šä¹‰è§†å›¾" class="sidebar-link">è‡ªå®šä¹‰è§†å›¾</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#å…±äº«çš„æ•°æ®" class="sidebar-link">å…±äº«çš„æ•°æ®</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#æ’ä»¶çš„-action" class="sidebar-link">æ’ä»¶çš„ action</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#è¿›ç¨‹é—´é€šä¿¡-ipc" class="sidebar-link">è¿›ç¨‹é—´é€šä¿¡ (IPC)</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#æœ¬åœ°å­˜å‚¨" class="sidebar-link">æœ¬åœ°å­˜å‚¨</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#notification" class="sidebar-link">Notification</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#è¿›åº¦ç•Œé¢" class="sidebar-link">è¿›åº¦ç•Œé¢</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#é’©å­" class="sidebar-link">é’©å­</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#onprojectopen" class="sidebar-link">onProjectOpen</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#onpluginreload" class="sidebar-link">onPluginReload</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#onconfigread" class="sidebar-link">onConfigRead</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#onconfigwrite" class="sidebar-link">onConfigWrite</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#ontaskopen" class="sidebar-link">onTaskOpen</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#ontaskrun" class="sidebar-link">onTaskRun</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#ontaskexit" class="sidebar-link">onTaskExit</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#onviewopen" class="sidebar-link">onViewOpen</a></li></ul></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#å»ºè®®" class="sidebar-link">å»ºè®®</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#å…¶å®ƒæ–¹æ³•" class="sidebar-link">å…¶å®ƒæ–¹æ³•</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#hasplugin" class="sidebar-link">hasPlugin</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#getcwd" class="sidebar-link">getCwd</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#resolve" class="sidebar-link">resolve</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#getproject" class="sidebar-link">getProject</a></li></ul></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/dev-guide/ui-api.html#å…¬å…±é™æ€æ–‡ä»¶" class="sidebar-link">å…¬å…±é™æ€æ–‡ä»¶</a></li></ul></li><li><a href="/nornj-cli/zh/dev-guide/ui-localization.html" class="sidebar-link">UI æœ¬åœ°åŒ–</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ui-æ’ä»¶-api"><a href="#ui-æ’ä»¶-api" aria-hidden="true" class="header-anchor">#</a> UI æ’ä»¶ API</h1> <p>è¿™ä¸ª cli-ui æš´éœ²ä¸€ä¸ª APIï¼Œå…è®¸å¢å¼ºé¡¹ç›®çš„é…ç½®å’Œä»»åŠ¡ï¼Œä¹Ÿå¯ä»¥åˆ†äº«æ•°æ®å’Œåœ¨è¿›ç¨‹é—´è¿›è¡Œé€šä¿¡ã€‚</p> <p><img src="/vue-cli-ui-schema.png" alt="UI æ’ä»¶æ¶æ„"></p> <h2 id="ui-æ–‡ä»¶"><a href="#ui-æ–‡ä»¶" aria-hidden="true" class="header-anchor">#</a> UI æ–‡ä»¶</h2> <p>åœ¨æ¯ä¸ªå®‰è£…å¥½çš„ vue-cli æ’ä»¶é‡Œï¼Œcli-ui éƒ½ä¼šå°è¯•ä»å…¶æ’ä»¶çš„æ ¹ç›®å½•åŠ è½½ä¸€ä¸ªå¯é€‰çš„ <code>ui.js</code> æ–‡ä»¶ã€‚æ³¨æ„ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨æ–‡ä»¶å¤¹ (ä¾‹å¦‚ <code>ui/index.js</code>)ã€‚</p> <p>è¯¥æ–‡ä»¶åº”è¯¥å¯¼å‡ºä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°ä¼šä»¥ API å¯¹è±¡ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token parameter">api</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// åœ¨è¿™é‡Œä½¿ç”¨ API...</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="warning custom-block"><p class="custom-block-title">è­¦å‘Š</p> <p>å½“è¯•å›¾åœ¨â€œé¡¹ç›®æ’ä»¶ (Project plugins)â€ä¸­è·å–æ’ä»¶åˆ—è¡¨æ—¶ï¼Œè¿™äº›æ–‡ä»¶å°†ä¼šè¢«é‡æ–°åŠ è½½ã€‚ç‚¹å‡» UI å·¦ä¾§è¾¹æ å¯¼èˆªâ€œé¡¹ç›®æ’ä»¶ (Project plugins)â€æŒ‰é’®å¯ä»¥åº”ç”¨æ›´æ”¹ã€‚</p></div> <p>è¿™é‡Œæ˜¯ä¸€ä¸ªä½¿ç”¨ UI API çš„ vue-cli æ’ä»¶çš„æ–‡ä»¶å¤¹ç»“æ„ç¤ºä¾‹ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>- vue-cli-plugin-test
  - package.json
  - index.js
  - generator.js
  - prompts.js
  - ui.js
  - logo.png
</code></pre></div><h3 id="é¡¹ç›®æœ¬åœ°çš„æ’ä»¶"><a href="#é¡¹ç›®æœ¬åœ°çš„æ’ä»¶" aria-hidden="true" class="header-anchor">#</a> é¡¹ç›®æœ¬åœ°çš„æ’ä»¶</h3> <p>å¦‚æœä½ éœ€è¦åœ¨é¡¹ç›®é‡Œè®¿é—®æ’ä»¶ API è€Œä¸éœ€è¦åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„æ’ä»¶ï¼Œä½ å¯ä»¥åœ¨ <code>package.json</code> æ–‡ä»¶ä¸­ä½¿ç”¨ <code>vuePlugins.ui</code> é€‰é¡¹ï¼š</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;vuePlugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;ui&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;my-ui.js&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ¯ä¸ªæ–‡ä»¶éƒ½éœ€è¦æš´éœ²ä¸€ä¸ªå‡½æ•°ï¼Œå°†æ’ä»¶ API ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°æºå¸¦ã€‚</p> <h2 id="å¼€å‘æ¨¡å¼"><a href="#å¼€å‘æ¨¡å¼" aria-hidden="true" class="header-anchor">#</a> å¼€å‘æ¨¡å¼</h2> <p>å½“æ„å»ºä½ è‡ªå·±çš„æ’ä»¶æ—¶ï¼Œä½ å¯èƒ½æƒ³åœ¨å¼€å‘ç¯å¢ƒä¸‹è¿è¡Œ cli-uiï¼Œæ‰€ä»¥è¿™æ ·è¿è¡Œä¼šè¾“å‡ºè¾ƒä¸ºå®ç”¨çš„æ—¥å¿—ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>vue ui --dev
</code></pre></div><p>æˆ–ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>vue ui -D
</code></pre></div><h2 id="é¡¹ç›®çš„é…ç½®"><a href="#é¡¹ç›®çš„é…ç½®" aria-hidden="true" class="header-anchor">#</a> é¡¹ç›®çš„é…ç½®</h2> <p><img src="/config-ui.png" alt="é…ç½® UI"></p> <p>ä½ å¯ä»¥é€šè¿‡ <code>api.describeConfig</code> æ–¹æ³•æ·»åŠ ä¸€ä¸ªé¡¹ç›®é…ç½®ã€‚</p> <p>é¦–å…ˆä½ éœ€è¦ä¼ å…¥ä¸€äº›ä¿¡æ¯ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">describeConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// å”¯ä¸€çš„é…ç½® ID</span>
  id<span class="token punctuation">:</span> <span class="token string">'org.vue.eslintrc'</span><span class="token punctuation">,</span>
  <span class="token comment">// å±•ç¤ºåç§°</span>
  name<span class="token punctuation">:</span> <span class="token string">'ESLint configuration'</span><span class="token punctuation">,</span>
  <span class="token comment">// å±•ç¤ºåœ¨åç§°ä¸‹æ–¹çš„æè¿°</span>
  description<span class="token punctuation">:</span> <span class="token string">'Error checking &amp; Code quality'</span><span class="token punctuation">,</span>
  <span class="token comment">// â€œæ›´å¤šä¿¡æ¯ (More info)â€é“¾æ¥</span>
  link<span class="token punctuation">:</span> <span class="token string">'https://eslint.org'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="danger custom-block"><p class="custom-block-title">å±é™©</p> <p>è¯·ç¡®å®šä¸º id è®¾ç½®æ­£ç¡®çš„å‘½åç©ºé—´ï¼Œå› ä¸ºå®ƒéœ€è¦è·¨æ‰€æœ‰æ’ä»¶ä¿æŒå”¯ä¸€ã€‚æˆ‘ä»¬æ¨èä½¿ç”¨<a href="https://en.wikipedia.org/wiki/Reverse_domain_name_notation" target="_blank" rel="noopener noreferrer">åå‘åŸŸåè®°å· (reverse domain name notation)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ã€‚</p></div> <h3 id="é…ç½®å›¾æ ‡"><a href="#é…ç½®å›¾æ ‡" aria-hidden="true" class="header-anchor">#</a> é…ç½®å›¾æ ‡</h3> <p>å¯ä»¥æ˜¯ä¸€ä¸ª <a href="https://material.io/tools/icons" target="_blank" rel="noopener noreferrer">Material å›¾æ ‡<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ä»£ç æˆ–ä¸€ä¸ªè‡ªå®šä¹‰çš„å›¾ç‰‡ (è¯¦è§<a href="#%E5%85%AC%E5%85%B1%E9%9D%99%E6%80%81%E6%96%87%E4%BB%B6">å…¬å…±é™æ€æ–‡ä»¶</a>)ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">describeConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">/* ... */</span>
  <span class="token comment">// é…ç½®å›¾æ ‡</span>
  icon<span class="token punctuation">:</span> <span class="token string">'application_settings'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>å¦‚æœä½ æ²¡æœ‰å®šä¹‰å›¾æ ‡ï¼Œé‚£å°±å±•ç¤ºè¯¥æ’ä»¶å¯èƒ½å­˜åœ¨çš„ logo (è¯¦è§ <a href="/nornj-cli/zh/dev-guide/ui-info.html#logo">Logo</a>)ã€‚</p> <h3 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" aria-hidden="true" class="header-anchor">#</a> é…ç½®æ–‡ä»¶</h3> <p>é»˜è®¤æƒ…å†µä¸‹ï¼Œé…ç½® UI å¯èƒ½ä¼šè¯»å†™ä¸€ä¸ªæˆ–å¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œä¾‹å¦‚ <code>.eslintrc</code> å’Œ <code>vue.config.js</code>ã€‚</p> <p>ä½ å¯ä»¥æä¾›å¯èƒ½éœ€è¦åœ¨ç”¨æˆ·é¡¹ç›®ä¸­æ£€æµ‹çš„æ–‡ä»¶ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">describeConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">/* ... */</span>
  <span class="token comment">// è¯¥é…ç½®æ‰€æœ‰å¯èƒ½çš„æ–‡ä»¶</span>
  files<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// eslintrc.js</span>
    eslint<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      js<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'.eslintrc.js'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      json<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'.eslintrc'</span><span class="token punctuation">,</span> <span class="token string">'.eslintrc.json'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// ä¼šä» `package.json` è¯»å–</span>
      <span class="token keyword">package</span><span class="token punctuation">:</span> <span class="token string">'eslintConfig'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// vue.config.js</span>
    vue<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      js<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'vue.config.js'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>æ”¯æŒçš„ç±»å‹æœ‰ï¼š<code>json</code>ã€<code>yaml</code>ã€<code>js</code>ã€<code>package</code>ã€‚è¿™ä¸ªé¡ºåºæ˜¯å¾ˆé‡è¦çš„ï¼šå¦‚æœè¿™é¡¹é…ç½®ä¸å­˜åœ¨ï¼Œåˆ™ä¼šåˆ›å»ºåˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶ã€‚</p> <h3 id="å±•ç¤ºé…ç½®æç¤ºç¬¦"><a href="#å±•ç¤ºé…ç½®æç¤ºç¬¦" aria-hidden="true" class="header-anchor">#</a> å±•ç¤ºé…ç½®æç¤ºç¬¦</h3> <p>ä½¿ç”¨ <code>onRead</code> é’©å­æ¥è¿”å›ä¸€ä¸ªæç¤ºç¬¦åˆ—è¡¨ï¼Œç”¨ä»¥é…ç½®å±•ç¤ºï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">describeConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">/* ... */</span>
  <span class="token function-variable function">onRead</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> data<span class="token punctuation">,</span> cwd <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    prompts<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// æç¤ºç¬¦å¯¹è±¡</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>è¿™äº›æç¤ºç¬¦ä¼šå±•ç¤ºåœ¨é…ç½®çš„è¯¦æƒ…é¢æ¿ä¸­ã€‚</p> <p>æŸ¥é˜…<a href="#%E6%8F%90%E7%A4%BA%E7%AC%A6">æç¤ºç¬¦</a>äº†è§£æ›´å¤šä¿¡æ¯ã€‚</p> <p>è¿™ä¸ª <code>data</code> å¯¹è±¡åŒ…å«äº†æ¯ä¸ªé…ç½®æ–‡ä»¶å†…å®¹çš„ JSON ç»“æœã€‚</p> <p>ä¾‹å¦‚ï¼Œå‡è®¾ç”¨æˆ·åœ¨å…¶é¡¹ç›®ä¸­çš„ <code>vue.config.js</code> æœ‰ä»¥ä¸‹å†…å®¹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  lintOnSave<span class="token punctuation">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æˆ‘ä»¬åœ¨æ’ä»¶ä¸­åƒè¿™æ ·å£°æ˜é…ç½®æ–‡ä»¶ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">describeConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">/* ... */</span>
  <span class="token comment">// è¯¥é…ç½®æ‰€æœ‰å¯èƒ½çš„æ–‡ä»¶</span>
  files<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// vue.config.js</span>
    vue<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      js<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'vue.config.js'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>åˆ™è¿™ä¸ª <code>data</code> å¯¹è±¡ä¼šæ˜¯ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token comment">// æ–‡ä»¶</span>
  vue<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ–‡ä»¶æ•°æ®</span>
    lintOnSave<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å¤šä¸ªæ–‡ä»¶çš„ä¾‹å­ï¼šå¦‚æœæˆ‘ä»¬åœ¨ç”¨æˆ·çš„é¡¹ç›®ä¸­æ·»åŠ ä»¥ä¸‹ <code>eslintrc.js</code> æ–‡ä»¶ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  root<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token keyword">extends</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token string">'plugin:vue/essential'</span><span class="token punctuation">,</span>
    <span class="token string">'@vue/standard'</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>é‚£ä¹ˆåœ¨æˆ‘ä»¬çš„æ’ä»¶ä¸­å°† <code>files</code> é€‰é¡¹æ”¹å˜æˆä¸ºï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">describeConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">/* ... */</span>
  <span class="token comment">// è¯¥é…ç½®æ‰€æœ‰å¯èƒ½çš„æ–‡ä»¶</span>
  files<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// eslintrc.js</span>
    eslint<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      js<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'.eslintrc.js'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      json<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'.eslintrc'</span><span class="token punctuation">,</span> <span class="token string">'.eslintrc.json'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// ä¼šä» `package.json` è¯»å–</span>
      <span class="token keyword">package</span><span class="token punctuation">:</span> <span class="token string">'eslintConfig'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// vue.config.js</span>
    vue<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      js<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'vue.config.js'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>åˆ™è¿™ä¸ª <code>data</code> å¯¹è±¡ä¼šæ˜¯ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  eslint<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    root<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token keyword">extends</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">'plugin:vue/essential'</span><span class="token punctuation">,</span>
      <span class="token string">'@vue/standard'</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  vue<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    lintOnSave<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="é…ç½®é€‰é¡¹å¡"><a href="#é…ç½®é€‰é¡¹å¡" aria-hidden="true" class="header-anchor">#</a> é…ç½®é€‰é¡¹å¡</h3> <p>ä½ å¯ä»¥å°†è¿™äº›æç¤ºç¬¦ç»„ç»‡æˆä¸ºå‡ ä¸ªé€‰é¡¹å¡ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">describeConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">/* ... */</span>
  <span class="token function-variable function">onRead</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> data<span class="token punctuation">,</span> cwd <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    tabs<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        id<span class="token punctuation">:</span> <span class="token string">'tab1'</span><span class="token punctuation">,</span>
        label<span class="token punctuation">:</span> <span class="token string">'My tab'</span><span class="token punctuation">,</span>
        <span class="token comment">// å¯é€‰çš„</span>
        icon<span class="token punctuation">:</span> <span class="token string">'application_settings'</span><span class="token punctuation">,</span>
        prompts<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token comment">// æç¤ºç¬¦å¯¹è±¡ä»¬</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        id<span class="token punctuation">:</span> <span class="token string">'tab2'</span><span class="token punctuation">,</span>
        label<span class="token punctuation">:</span> <span class="token string">'My other tab'</span><span class="token punctuation">,</span>
        prompts<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token comment">// æç¤ºç¬¦å¯¹è±¡ä»¬</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="ä¿å­˜é…ç½®å˜æ›´"><a href="#ä¿å­˜é…ç½®å˜æ›´" aria-hidden="true" class="header-anchor">#</a> ä¿å­˜é…ç½®å˜æ›´</h3> <p>ä½¿ç”¨ <code>onWrite</code> é’©å­å°†æ•°æ®å†™å…¥é…ç½®æ–‡ä»¶ (æˆ–è€…æ‰§è¡Œä»»ä½• Node.js ä»£ç )ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">describeConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">/* ... */</span>
  <span class="token function-variable function">onWrite</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> prompts<span class="token punctuation">,</span> answers<span class="token punctuation">,</span> data<span class="token punctuation">,</span> files<span class="token punctuation">,</span> cwd<span class="token punctuation">,</span> api <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>å‚æ•°ï¼š</p> <ul><li><code>prompts</code>: å½“å‰æç¤ºç¬¦ä»¬çš„è¿è¡Œæ—¶å¯¹è±¡ (è¯¦è§ä¸‹æ–¹)</li> <li><code>answers</code>: æ¥è‡ªç”¨æˆ·è¾“å…¥çš„å›ç­”æ•°æ®</li> <li><code>data</code>: ä»é…ç½®æ–‡ä»¶è¯»å–çš„åªè¯»çš„åˆå§‹åŒ–æ•°æ®</li> <li><code>files</code>: è¢«æ‰¾åˆ°çš„æ–‡ä»¶çš„æè¿°å™¨ (<code>{ type: 'json', path: '...' }</code>)</li> <li><code>cwd</code>: å½“å‰å·¥ä½œç›®å½•</li> <li><code>api</code>: <code>onWrite API</code> (è¯¦è§ä¸‹æ–¹)</li></ul> <p>æç¤ºç¬¦çš„è¿è¡Œæ—¶å¯¹è±¡ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  id<span class="token punctuation">:</span> data<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
  type<span class="token punctuation">:</span> data<span class="token punctuation">.</span>type<span class="token punctuation">,</span>
  name<span class="token punctuation">:</span> data<span class="token punctuation">.</span>short <span class="token operator">||</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  message<span class="token punctuation">:</span> data<span class="token punctuation">.</span>message<span class="token punctuation">,</span>
  group<span class="token punctuation">:</span> data<span class="token punctuation">.</span>group <span class="token operator">||</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  description<span class="token punctuation">:</span> data<span class="token punctuation">.</span>description <span class="token operator">||</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  link<span class="token punctuation">:</span> data<span class="token punctuation">.</span>link <span class="token operator">||</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  choices<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  visible<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  enabled<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token comment">// å½“å‰å€¼ (æœªè¢«è¿‡æ»¤çš„)</span>
  value<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token comment">// å¦‚æœç”¨æˆ·ä¿®æ”¹è¿‡äº†åˆ™ä¸º true</span>
  valueChanged<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  error<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  tabId<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token comment">// åŸå§‹çš„ inquirer æç¤ºç¬¦å¯¹è±¡</span>
  raw<span class="token punctuation">:</span> data
<span class="token punctuation">}</span>
</code></pre></div><p><code>onWrite</code> API:</p> <ul><li><code>assignData(fileId, newData)</code>: åœ¨å†™å…¥å‰ä½¿ç”¨ <code>Object.assign</code> æ¥æ›´æ–°é…ç½®æ–‡ä»¶ã€‚</li> <li><code>setData(fileId, newData)</code>: <code>newData</code> çš„æ¯ä¸ª key åœ¨å†™å…¥ä¹‹å‰éƒ½å°†ä¼šè¢«æ·±è®¾ç½®åœ¨é…ç½®æ•°æ®ä¸Š (æˆ–å½“å€¼ä¸º <code>undefined</code> æ—¶è¢«ç§»é™¤)ã€‚</li> <li><code>async getAnswer(id, mapper)</code>: ä¸ºä¸€ä¸ªç»™å®šçš„æç¤ºç¬¦ id è·å–ç­”å¤å¹¶é€šè¿‡å¯èƒ½æä¾›äº†çš„ <code>mapper</code> å‡½æ•° (ä¾‹å¦‚ <code>JSON.parse</code>) è¿›è¡Œ map å¤„ç†ã€‚</li></ul> <p>ç¤ºä¾‹ (æ¥è‡ª ESLint æ’ä»¶)ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">describeConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>

  <span class="token function-variable function">onWrite</span><span class="token punctuation">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> api<span class="token punctuation">,</span> prompts <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ›´æ–° ESLint è§„åˆ™</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> prompt <span class="token keyword">of</span> prompts<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result<span class="token punctuation">[</span><span class="token template-string"><span class="token string">`rules.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>prompt<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">await</span> api<span class="token punctuation">.</span><span class="token function">getAnswer</span><span class="token punctuation">(</span>prompt<span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span>parse<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    api<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">'eslint'</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="é¡¹ç›®çš„ä»»åŠ¡"><a href="#é¡¹ç›®çš„ä»»åŠ¡" aria-hidden="true" class="header-anchor">#</a> é¡¹ç›®çš„ä»»åŠ¡</h2> <p><img src="/tasks-ui.png" alt="ä»»åŠ¡ UI"></p> <p>ä»»åŠ¡æ˜¯ä»é¡¹ç›® <code>package.json</code> æ–‡ä»¶çš„ <code>scripts</code> å­—æ®µç”Ÿæˆçš„ã€‚</p> <p>å› ä¸ºæœ‰ <code>api.describeTask</code> æ–¹æ³•ï¼Œä½ å¯ä»¥ä¸ºä»»åŠ¡â€œå¢å¼ºâ€é¢å¤–çš„ä¿¡æ¯å’Œé’©å­ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">describeTask</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ç”¨äºåŒ¹é…è„šæœ¬å‘½ä»¤çš„ RegExp å¯¹è±¡ï¼Œæ¥é€‰æ‹©è¦è¢«æè¿°çš„ä»»åŠ¡</span>
  match<span class="token punctuation">:</span> <span class="token regex">/vue-cli-service serve/</span><span class="token punctuation">,</span>
  description<span class="token punctuation">:</span> <span class="token string">'Compiles and hot-reloads for development'</span><span class="token punctuation">,</span>
  <span class="token comment">// â€œMore infoâ€é“¾æ¥</span>
  link<span class="token punctuation">:</span> <span class="token string">'https://github.com/vuejs/vue-cli/blob/dev/docs/cli-service.md#serve'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="ä»»åŠ¡å›¾æ ‡"><a href="#ä»»åŠ¡å›¾æ ‡" aria-hidden="true" class="header-anchor">#</a> ä»»åŠ¡å›¾æ ‡</h3> <p>å¯ä»¥æ˜¯ä¸€ä¸ª <a href="https://material.io/tools/icons" target="_blank" rel="noopener noreferrer">Material å›¾æ ‡<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ä»£ç æˆ–ä¸€ä¸ªè‡ªå®šä¹‰çš„å›¾ç‰‡ (è¯¦è§<a href="#%E5%85%AC%E5%85%B1%E9%9D%99%E6%80%81%E6%96%87%E4%BB%B6">å…¬å…±é™æ€æ–‡ä»¶</a>)ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">describeTask</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">/* ... */</span>
  <span class="token comment">// ä»»åŠ¡å›¾æ ‡</span>
  icon<span class="token punctuation">:</span> <span class="token string">'application_settings'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>å¦‚æœä½ æ²¡æœ‰å®šä¹‰å›¾æ ‡ï¼Œé‚£å°±å±•ç¤ºè¯¥æ’ä»¶å¯èƒ½å­˜åœ¨çš„ logo (è¯¦è§ <a href="/nornj-cli/zh/dev-guide/ui-info.html#logo">Logo</a>)ã€‚</p> <h3 id="ä»»åŠ¡å‚æ•°"><a href="#ä»»åŠ¡å‚æ•°" aria-hidden="true" class="header-anchor">#</a> ä»»åŠ¡å‚æ•°</h3> <p>ä½ å¯ä»¥æ·»åŠ æç¤ºç¬¦æ¥ä¿®æ”¹å‘½ä»¤å‚æ•°ã€‚å®ƒä»¬ä¼šå±•ç¤ºåœ¨ä¸€ä¸ªâ€œå‚æ•°â€æ¨¡æ€æ¡†ä¸­ã€‚</p> <p>Example:</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">describeTask</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>

  <span class="token comment">// é€‰å¡«å‚æ•° (inquirer æç¤ºç¬¦)</span>
  prompts<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> <span class="token string">'open'</span><span class="token punctuation">,</span>
      type<span class="token punctuation">:</span> <span class="token string">'confirm'</span><span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      description<span class="token punctuation">:</span> <span class="token string">'Open browser on server start'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> <span class="token string">'mode'</span><span class="token punctuation">,</span>
      type<span class="token punctuation">:</span> <span class="token string">'list'</span><span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token string">'development'</span><span class="token punctuation">,</span>
      choices<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          name<span class="token punctuation">:</span> <span class="token string">'development'</span><span class="token punctuation">,</span>
          value<span class="token punctuation">:</span> <span class="token string">'development'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          name<span class="token punctuation">:</span> <span class="token string">'production'</span><span class="token punctuation">,</span>
          value<span class="token punctuation">:</span> <span class="token string">'production'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          name<span class="token punctuation">:</span> <span class="token string">'test'</span><span class="token punctuation">,</span>
          value<span class="token punctuation">:</span> <span class="token string">'test'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      description<span class="token punctuation">:</span> <span class="token string">'Specify env mode'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>è¯¦è§<a href="#%E6%8F%90%E7%A4%BA%E7%AC%A6">æç¤ºç¬¦</a>ã€‚</p> <h3 id="ä»»åŠ¡é’©å­"><a href="#ä»»åŠ¡é’©å­" aria-hidden="true" class="header-anchor">#</a> ä»»åŠ¡é’©å­</h3> <p>æœ‰ä¸€äº›é’©å­æ˜¯å¯ç”¨çš„ï¼š</p> <ul><li><code>onBeforeRun</code></li> <li><code>onRun</code></li> <li><code>onExit</code></li></ul> <p>ä¾‹å¦‚ï¼Œä½ å¯ä»¥å°† (ä¸Šè¿°) æç¤ºç¬¦çš„å›ç­”ä½œä¸ºä¸€ä¸ªæ–°å‚æ•°æ·»åŠ åˆ°å‘½ä»¤ä¸Šï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">describeTask</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>

  <span class="token comment">// é’©å­</span>
  <span class="token comment">// åœ¨è¿™é‡Œä¿®æ”¹å‚æ•°</span>
  <span class="token function-variable function">onBeforeRun</span><span class="token punctuation">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> answers<span class="token punctuation">,</span> args <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// å‚æ•°</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>answers<span class="token punctuation">.</span>open<span class="token punctuation">)</span> args<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'--open'</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>answers<span class="token punctuation">.</span>mode<span class="token punctuation">)</span> args<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'--mode'</span><span class="token punctuation">,</span> answers<span class="token punctuation">.</span>mode<span class="token punctuation">)</span>
    args<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'--dashboard'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ä»»åŠ¡è¿è¡Œä¹‹åç«‹å³æ‰§è¡Œ</span>
  <span class="token function-variable function">onRun</span><span class="token punctuation">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> args<span class="token punctuation">,</span> child<span class="token punctuation">,</span> cwd <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// child: Node å­è¿›ç¨‹</span>
    <span class="token comment">// cwd: è¿›ç¨‹æ‰€åœ¨ç›®å½•</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">onExit</span><span class="token punctuation">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> args<span class="token punctuation">,</span> child<span class="token punctuation">,</span> cwd<span class="token punctuation">,</span> code<span class="token punctuation">,</span> signal <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// code: é€€å‡ºç </span>
    <span class="token comment">// signal: å¯èƒ½ä¼šè¢«ä½¿ç”¨çš„æ€è¿›ç¨‹ä¿¡å·</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="ä»»åŠ¡è§†å›¾"><a href="#ä»»åŠ¡è§†å›¾" aria-hidden="true" class="header-anchor">#</a> ä»»åŠ¡è§†å›¾</h3> <p>ä½ å¯ä»¥åœ¨ä»»åŠ¡è¯¦æƒ…é¢æ¿ä¸­ä½¿ç”¨ <code>ClientAddon</code> API å±•ç¤ºè‡ªå®šä¹‰è§†å›¾ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">describeTask</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>

  <span class="token comment">// é¢å¤–çš„è§†å›¾ (ä¾‹å¦‚ webpack ä»ªè¡¨ç›˜)</span>
  <span class="token comment">// é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™é‡Œæ˜¯å±•ç¤ºç»ˆç«¯è¾“å‡ºçš„ `output` è§†å›¾</span>
  views<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token comment">// å”¯ä¸€ ID</span>
      id<span class="token punctuation">:</span> <span class="token string">'vue-webpack-dashboard-client-addon'</span><span class="token punctuation">,</span>
      <span class="token comment">// æŒ‰é’®æ–‡å­—</span>
      label<span class="token punctuation">:</span> <span class="token string">'Dashboard'</span><span class="token punctuation">,</span>
      <span class="token comment">// æŒ‰é’®å›¾æ ‡</span>
      icon<span class="token punctuation">:</span> <span class="token string">'dashboard'</span><span class="token punctuation">,</span>
      <span class="token comment">// è¦åŠ è½½çš„åŠ¨æ€ç»„ä»¶ (è¯¦è§ä¸‹è¿°â€œå®¢æˆ·ç«¯ addonâ€ç« èŠ‚)</span>
      component<span class="token punctuation">:</span> <span class="token string">'vue-webpack-dashboard'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// å±•ç¤ºä»»åŠ¡è¯¦æƒ…æ—¶é»˜è®¤é€‰æ‹©çš„è§†å›¾ (é»˜è®¤æ˜¯ `output`)</span>
  defaultView<span class="token punctuation">:</span> <span class="token string">'vue-webpack-dashboard-client-addon'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>è¯¦è§<a href="#%E5%AE%A2%E6%88%B7%E7%AB%AF-addon">å®¢æˆ·ç«¯ addon</a>ã€‚</p> <h3 id="æ–°å¢ä»»åŠ¡"><a href="#æ–°å¢ä»»åŠ¡" aria-hidden="true" class="header-anchor">#</a> æ–°å¢ä»»åŠ¡</h3> <p>ä½ ä¹Ÿå¯ä»¥ä¸ä½¿ç”¨ <code>api.describeTask</code>ï¼Œè€Œæ˜¯é€šè¿‡ <code>api.addTask</code> æ·»åŠ ä¸€ä¸ª <code>package.json</code> è„šæœ¬ä¸­æ²¡æœ‰çš„å…¨æ–°ä»»åŠ¡ã€‚è¿™äº›ä»»åŠ¡åªä¼šå‡ºç°åœ¨ cli UI ä¸­ã€‚</p> <p><strong>ä½ éœ€è¦æä¾›ä¸€ä¸ª <code>command</code> é€‰é¡¹æ›¿ä»£æ‰ <code>match</code> é€‰é¡¹ã€‚</strong></p> <p>ç¤ºä¾‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">addTask</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// å¿…å¡«</span>
  name<span class="token punctuation">:</span> <span class="token string">'inspect'</span><span class="token punctuation">,</span>
  command<span class="token punctuation">:</span> <span class="token string">'vue-cli-service inspect'</span><span class="token punctuation">,</span>
  <span class="token comment">// é€‰å¡«</span>
  <span class="token comment">// å…¶ä½™éƒ¨åˆ†ç±»ä¼¼ `describeTask` ä½†æ˜¯æ²¡æœ‰ `match` é€‰é¡¹</span>
  description<span class="token punctuation">:</span> <span class="token string">'...'</span><span class="token punctuation">,</span>
  link<span class="token punctuation">:</span> <span class="token string">'https://github.com/vuejs/vue-cli/...'</span><span class="token punctuation">,</span>
  prompts<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token comment">/* ... */</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function-variable function">onBeforeRun</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">onRun</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">onExit</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  views<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token comment">/* ... */</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  defaultView<span class="token punctuation">:</span> <span class="token string">'...'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="warning custom-block"><p class="custom-block-title">è­¦å‘Š</p> <p><code>command</code> å°†ä¼šè¿è¡Œä¸€ä¸ª Node ä¸Šä¸‹æ–‡ã€‚ä¹Ÿå°±æ˜¯è¯´ä½ å¯ä»¥åƒåœ¨ <code>package.json</code> è„šæœ¬ä¸­ä¸€æ ·è°ƒç”¨ Node çš„ bin å‘½ä»¤ã€‚</p></div> <h2 id="æç¤ºç¬¦"><a href="#æç¤ºç¬¦" aria-hidden="true" class="header-anchor">#</a> æç¤ºç¬¦</h2> <p>æç¤ºç¬¦å¯¹è±¡å¿…é¡»æ˜¯åˆæ³•çš„ <a href="https://github.com/SBoudrias/Inquirer.js" target="_blank" rel="noopener noreferrer">inquirer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> å¯¹è±¡ã€‚</p> <p>ä¸è¿‡ä½ ä¹Ÿå¯ä»¥æ·»åŠ ä¸‹åˆ—é¢å¤–çš„å­—æ®µ (åªä¼šè¢« UI ä½¿ç”¨çš„å¯é€‰é¡¹)ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token comment">/* ... */</span>
  <span class="token comment">// ç”¨æ¥å°†æç¤ºç¬¦æŒ‰ç« èŠ‚åˆ†ç»„</span>
  group<span class="token punctuation">:</span> <span class="token string">'Strongly recommended'</span><span class="token punctuation">,</span>
  <span class="token comment">// é™„åŠ æè¿°</span>
  description<span class="token punctuation">:</span> <span class="token string">'Enforce attribute naming style in template (`my-prop` or `myProp`)'</span><span class="token punctuation">,</span>
  <span class="token comment">// â€œMore infoâ€é“¾æ¥</span>
  link<span class="token punctuation">:</span> <span class="token string">'https://github.com/vuejs/eslint-plugin-vue/blob/master/docs/rules/attribute-hyphenation.md'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ”¯æŒçš„ inquirer ç±»å‹æœ‰ï¼š<code>checkbox</code>ã€<code>confirm</code>ã€<code>input</code>ã€<code>password</code>ã€<code>list</code>ã€<code>rawlist</code>ã€‚</p> <p>æ­¤å¤–ï¼ŒUI è¿˜æ”¯æŒäº†ä»…åœ¨è¿™é‡Œå·¥ä½œçš„ç‰¹æ®Šç±»å‹ï¼š</p> <ul><li><code>color</code>ï¼šå±•ç¤ºä¸€ä¸ªå–è‰²å™¨ã€‚</li></ul> <h3 id="switch-ç¤ºä¾‹"><a href="#switch-ç¤ºä¾‹" aria-hidden="true" class="header-anchor">#</a> Switch ç¤ºä¾‹</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'open'</span><span class="token punctuation">,</span>
  type<span class="token punctuation">:</span> <span class="token string">'confirm'</span><span class="token punctuation">,</span>
  <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  description<span class="token punctuation">:</span> <span class="token string">'Open the app in the browser'</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="select-ç¤ºä¾‹"><a href="#select-ç¤ºä¾‹" aria-hidden="true" class="header-anchor">#</a> Select ç¤ºä¾‹</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'mode'</span><span class="token punctuation">,</span>
  type<span class="token punctuation">:</span> <span class="token string">'list'</span><span class="token punctuation">,</span>
  <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token string">'development'</span><span class="token punctuation">,</span>
  choices<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> <span class="token string">'Development mode'</span><span class="token punctuation">,</span>
      value<span class="token punctuation">:</span> <span class="token string">'development'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> <span class="token string">'Production mode'</span><span class="token punctuation">,</span>
      value<span class="token punctuation">:</span> <span class="token string">'production'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> <span class="token string">'Test mode'</span><span class="token punctuation">,</span>
      value<span class="token punctuation">:</span> <span class="token string">'test'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  description<span class="token punctuation">:</span> <span class="token string">'Build mode'</span><span class="token punctuation">,</span>
  link<span class="token punctuation">:</span> <span class="token string">'https://link-to-docs'</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="input-ç¤ºä¾‹"><a href="#input-ç¤ºä¾‹" aria-hidden="true" class="header-anchor">#</a> Input ç¤ºä¾‹</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'host'</span><span class="token punctuation">,</span>
  type<span class="token punctuation">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
  <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token string">'0.0.0.0'</span><span class="token punctuation">,</span>
  description<span class="token punctuation">:</span> <span class="token string">'Host for the development server'</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="checkbox-ç¤ºä¾‹"><a href="#checkbox-ç¤ºä¾‹" aria-hidden="true" class="header-anchor">#</a> Checkbox ç¤ºä¾‹</h3> <p>å±•ç¤ºå¤šä¸ª switchã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'lintOn'</span><span class="token punctuation">,</span>
  message<span class="token punctuation">:</span> <span class="token string">'Pick additional lint features:'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">when</span><span class="token punctuation">:</span> <span class="token parameter">answers</span> <span class="token operator">=&gt;</span> answers<span class="token punctuation">.</span>features<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'linter'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  type<span class="token punctuation">:</span> <span class="token string">'checkbox'</span><span class="token punctuation">,</span>
  choices<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> <span class="token string">'Lint on save'</span><span class="token punctuation">,</span>
      value<span class="token punctuation">:</span> <span class="token string">'save'</span><span class="token punctuation">,</span>
      checked<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> <span class="token string">'Lint and fix on commit'</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">hasGit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token punctuation">:</span> chalk<span class="token punctuation">.</span><span class="token function">red</span><span class="token punctuation">(</span><span class="token string">' (requires Git)'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      value<span class="token punctuation">:</span> <span class="token string">'commit'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="å–è‰²å™¨ç¤ºä¾‹"><a href="#å–è‰²å™¨ç¤ºä¾‹" aria-hidden="true" class="header-anchor">#</a> å–è‰²å™¨ç¤ºä¾‹</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'themeColor'</span><span class="token punctuation">,</span>
  type<span class="token punctuation">:</span> <span class="token string">'color'</span><span class="token punctuation">,</span>
  message<span class="token punctuation">:</span> <span class="token string">'Theme color'</span><span class="token punctuation">,</span>
  description<span class="token punctuation">:</span> <span class="token string">'This is used to change the system UI color around the app'</span><span class="token punctuation">,</span>
  <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token string">'#4DBA87'</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="æç¤ºç¬¦çš„æ”¹è¿›"><a href="#æç¤ºç¬¦çš„æ”¹è¿›" aria-hidden="true" class="header-anchor">#</a> æç¤ºç¬¦çš„æ”¹è¿›</h3> <p>åœ¨ vue-cli æ’ä»¶ä¸­ï¼Œä½ å¯èƒ½å·²ç»æœ‰ä¸€ä¸ª <code>prompts.js</code> æ–‡ä»¶ï¼Œåœ¨ (ç”¨ CLI æˆ– UI) å®‰è£…è¯¥æ’ä»¶çš„æ—¶å€™è¯¢é—®ç”¨æˆ·ä¸€äº›é—®é¢˜ã€‚ä½ å¯ä»¥å‘é‚£äº›æç¤ºç¬¦å¯¹è±¡é¢å¤–æ·»åŠ åªæ”¯æŒ UI çš„ä¸Šè¿°å­—æ®µï¼Œè¿™æ ·çš„è¯å¦‚æœç”¨æˆ·ä½¿ç”¨ UI çš„è¯å¯ä»¥çœ‹åˆ°æ›´å¤šçš„ä¿¡æ¯ã€‚</p> <div class="warning custom-block"><p class="custom-block-title">è­¦å‘Š</p> <p>ç›®å‰ï¼Œé‚£äº›ä¸æ”¯æŒçš„ inquirer ç±»å‹ä¸ä¼šåœ¨ UI ä¸­æ­£å¸¸å·¥ä½œã€‚</p></div> <h2 id="å®¢æˆ·ç«¯-addon"><a href="#å®¢æˆ·ç«¯-addon" aria-hidden="true" class="header-anchor">#</a> å®¢æˆ·ç«¯ addon</h2> <p>å®¢æˆ·ç«¯ addon æ˜¯ä¸€ä¸ªåŠ¨æ€åŠ è½½åˆ° cli-ui ä¸­çš„ JS åŒ…ã€‚ç”¨äºåŠ è½½è‡ªå®šä¹‰ç»„ä»¶å’Œè·¯ç”±ã€‚</p> <h3 id="åˆ›å»ºä¸€ä¸ªå®¢æˆ·ç«¯-addon"><a href="#åˆ›å»ºä¸€ä¸ªå®¢æˆ·ç«¯-addon" aria-hidden="true" class="header-anchor">#</a> åˆ›å»ºä¸€ä¸ªå®¢æˆ·ç«¯ addon</h3> <p>æ¨èçš„åˆ›å»ºä¸€ä¸ªå®¢æˆ·ç«¯ addon çš„æ–¹å¼æ˜¯é€šè¿‡ vue cli åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ã€‚ä½ ä¹Ÿå¯ä»¥åœ¨æ’ä»¶çš„å­ç›®å½•æˆ–ä¸åŒçš„ npm åŒ…ä¸­è¿™æ ·åšã€‚</p> <p>ä½œä¸ºå¼€å‘ä¾èµ–å®‰è£… <code>@vue/cli-ui</code>ã€‚</p> <p>ç„¶åæ·»åŠ ä¸€ä¸ª <code>vue.config.js</code> æ–‡ä»¶å¹¶é™„å¸¦ä»¥ä¸‹å†…å®¹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> clientAddonConfig <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@vue/cli-ui'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token function">clientAddonConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    id<span class="token punctuation">:</span> <span class="token string">'org.vue.webpack.client-addon'</span><span class="token punctuation">,</span>
    <span class="token comment">// å¼€å‘ç¯å¢ƒç«¯å£ (é»˜è®¤å€¼ 8042)</span>
    port<span class="token punctuation">:</span> <span class="token number">8042</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¿™ä¸ª <code>clientAddonConfig</code> æ–¹æ³•å°†ä¼šç”Ÿæˆéœ€è¦çš„ vue-cli é…ç½®ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå®ƒä¼šç¦ç”¨ CSS extraction å¹¶å°†ä»£ç è¾“å‡ºåˆ°åœ¨å®¢æˆ·ç«¯ addon ç›®å½•çš„ <code>./dist/index.js</code>ã€‚</p> <div class="danger custom-block"><p class="custom-block-title">å±é™©</p> <p>è¯·ç¡®å®šä¸º id è®¾ç½®æ­£ç¡®çš„å‘½åç©ºé—´ï¼Œå› ä¸ºå®ƒéœ€è¦è·¨æ‰€æœ‰æ’ä»¶ä¿æŒå”¯ä¸€ã€‚æˆ‘ä»¬æ¨èä½¿ç”¨<a href="https://en.wikipedia.org/wiki/Reverse_domain_name_notation" target="_blank" rel="noopener noreferrer">åå‘åŸŸåè®°å· (reverse domain name notation)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ã€‚</p></div> <p>ç„¶åä¿®æ”¹ <code>.eslintrc.json</code> æ–‡ä»¶ä»¥æ·»åŠ ä¸€äº›å…è®¸çš„å…¨å±€å¯¹è±¡ï¼š</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token property">&quot;globals&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;ClientAddonApi&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mapSharedData&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Vue&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä½ ç°åœ¨å¯ä»¥åœ¨å¼€å‘ç¯å¢ƒä¸‹è¿è¡Œ <code>serve</code> è„šæœ¬ï¼Œä¹Ÿå¯ä»¥åœ¨å‡†å¤‡å‘å¸ƒæ—¶è¿è¡Œ <code>build</code> è„šæœ¬ã€‚</p> <h3 id="clientaddonapi"><a href="#clientaddonapi" aria-hidden="true" class="header-anchor">#</a> ClientAddonApi</h3> <p>åœ¨å®¢æˆ·ç«¯ addon èµ„æºä¸­æ‰“å¼€ <code>main.js</code> æ–‡ä»¶å¹¶åˆ é™¤æ‰€æœ‰ä»£ç ã€‚</p> <div class="warning custom-block"><p class="custom-block-title">è­¦å‘Š</p> <p>åˆ«åœ¨å®¢æˆ·ç«¯ addon æºæ–‡ä»¶æ€»å¯¼å…¥ Vue ï¼Œè¯·ä»æµè§ˆå™¨ <code>window</code> ä½¿ç”¨å…¨å±€çš„ <code>Vue</code> å¯¹è±¡ã€‚</p></div> <p>è¿™é‡Œæ˜¯ä¸€ä¸ª <code>main.js</code> çš„ç¤ºä¾‹ä»£ç ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> VueProgress <span class="token keyword">from</span> <span class="token string">'vue-progress-path'</span>
<span class="token keyword">import</span> WebpackDashboard <span class="token keyword">from</span> <span class="token string">'./components/WebpackDashboard.vue'</span>
<span class="token keyword">import</span> TestView <span class="token keyword">from</span> <span class="token string">'./components/TestView.vue'</span>

<span class="token comment">// ä½ å¯ä»¥å®‰è£…é¢å¤–çš„ Vue æ’ä»¶</span>
<span class="token comment">// ä½¿ç”¨å…¨å±€çš„ 'Vue' å˜é‡</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueProgress<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  defaultShape<span class="token punctuation">:</span> <span class="token string">'circle'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// æ³¨å†Œä¸€ä¸ªè‡ªå®šä¹‰ç»„ä»¶</span>
<span class="token comment">// (å·¥ä½œåŸç†ç±»ä¼¼ 'Vue.component')</span>
ClientAddonApi<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'org.vue.webpack.components.dashboard'</span><span class="token punctuation">,</span> WebpackDashboard<span class="token punctuation">)</span>

<span class="token comment">// åœ¨ vue-router ä¸­ä¸º /addon/&lt;id&gt; æ·»åŠ å­è·¯ç”±ã€‚</span>
<span class="token comment">// ä¾‹å¦‚ï¼ŒaddRoutes('foo', [ { path: '' }, { path: 'bar' } ])</span>
<span class="token comment">// å°†ä¼šå‘è·¯ç”±å™¨æ·»åŠ  /addon/foo/ å’Œ /addon/foo/barã€‚</span>
<span class="token comment">// æˆ‘ä»¬åœ¨æ­¤ç”¨ 'test-webpack-route' åç§°åˆ›å»ºä¸€ä¸ªæ–°çš„ '/addon/vue-webpack/' è·¯ç”±</span>
ClientAddonApi<span class="token punctuation">.</span><span class="token function">addRoutes</span><span class="token punctuation">(</span><span class="token string">'org.vue.webpack'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> path<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'org.vue.webpack.routes.test'</span><span class="token punctuation">,</span> component<span class="token punctuation">:</span> TestView <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// ä½ å¯ä»¥ç¿»è¯‘æ’ä»¶ç»„ä»¶</span>
<span class="token comment">// (é€šè¿‡ä½¿ç”¨ vue-i18n) åŠ è½½è¯­è¨€æ–‡ä»¶</span>
<span class="token keyword">const</span> locales <span class="token operator">=</span> require<span class="token punctuation">.</span><span class="token function">context</span><span class="token punctuation">(</span><span class="token string">'./locales'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token regex">/[a-z0-9]+\.json$/i</span><span class="token punctuation">)</span>
locales<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> locale <span class="token operator">=</span> key<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/([a-z0-9]+)\./i</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
  ClientAddonApi<span class="token punctuation">.</span><span class="token function">addLocalization</span><span class="token punctuation">(</span>locale<span class="token punctuation">,</span> <span class="token function">locales</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="danger custom-block"><p class="custom-block-title">å±é™©</p> <p>è¯·ç¡®å®šä¸º id è®¾ç½®æ­£ç¡®çš„å‘½åç©ºé—´ï¼Œå› ä¸ºå®ƒéœ€è¦è·¨æ‰€æœ‰æ’ä»¶ä¿æŒå”¯ä¸€ã€‚æˆ‘ä»¬æ¨èä½¿ç”¨<a href="https://en.wikipedia.org/wiki/Reverse_domain_name_notation" target="_blank" rel="noopener noreferrer">åå‘åŸŸåè®°å· (reverse domain name notation)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ã€‚</p></div> <p>cli-ui åœ¨ <code>window</code> ä½œç”¨åŸŸå†…æ³¨å†Œäº† <code>Vue</code> å’Œ <code>ClientAddonApi</code> ä½œä¸ºå…¨å±€å˜é‡ã€‚</p> <p>ä½ å¯ä»¥åœ¨è‡ªå·±çš„ç»„ä»¶é‡Œä½¿ç”¨ <a href="https://github.com/vuejs/ui" target="_blank" rel="noopener noreferrer">@vue/ui<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> å’Œ <a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-ui/src/components" target="_blank" rel="noopener noreferrer">@vue/cli-ui<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> æ‰€æœ‰çš„ç»„ä»¶å’Œ CSS class ä»¥ä¿æŒæ ·å¼å’Œä½“éªŒçš„ä¸€è‡´æ€§ã€‚ä½ ä¹Ÿå¯ä»¥ç”¨å†…ç½®çš„ <a href="https://github.com/kazupon/vue-i18n" target="_blank" rel="noopener noreferrer">vue-i18n<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ç¿»è¯‘å­—ç¬¦ä¸²ã€‚</p> <h3 id="æ³¨å†Œå®¢æˆ·ç«¯-addon"><a href="#æ³¨å†Œå®¢æˆ·ç«¯-addon" aria-hidden="true" class="header-anchor">#</a> æ³¨å†Œå®¢æˆ·ç«¯ addon</h3> <p>å›åˆ° <code>ui.js</code> æ–‡ä»¶ï¼Œä½¿ç”¨ <code>api.addClientAddon</code> æ–¹æ³•å¹¶å¸¦ä¸€ä¸ªæŒ‡å‘æ„å»ºåçš„æ–‡ä»¶å¤¹çš„ require å­—ç¬¦ä¸²ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">addClientAddon</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  id<span class="token punctuation">:</span> <span class="token string">'org.vue.webpack.client-addon'</span><span class="token punctuation">,</span>
  <span class="token comment">// åŒ…å«æ„å»ºå‡ºæ¥çš„ JS æ–‡ä»¶çš„æ–‡ä»¶å¤¹</span>
  path<span class="token punctuation">:</span> <span class="token string">'@vue/cli-ui-addon-webpack/dist'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>è¿™ä¼šä½¿ç”¨ Node.js çš„ <code>require.resolve</code> API æŸ¥æ‰¾æ–‡ä»¶å¤¹å¹¶ä¸ºä»å®¢æˆ·ç«¯ addon æ„å»ºçš„æ–‡ä»¶ <code>index.js</code> å¯åŠ¨ä¸€ä¸ªæœåŠ¡å™¨ã€‚</p> <p>æˆ–è€…å½“å¼€å‘æ’ä»¶æ—¶æŒ‡å®šä¸€ä¸ª URL (ç†æƒ³ä¸­ä½ éœ€è¦åœ¨ Vue çš„æµ‹è¯•é¡¹ç›®çš„ <code>vue-cli-ui.js</code> ä¸­åšè¿™äº›)</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ç”¨äºå¼€å‘ç¯å¢ƒ</span>
<span class="token comment">// å¦‚æœå·²ç»åœ¨æ’ä»¶ä¸­å®šä¹‰è¿‡ï¼Œåˆ™ä¼šè¦†å†™è·¯å¾„</span>
api<span class="token punctuation">.</span><span class="token function">addClientAddon</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  id<span class="token punctuation">:</span> <span class="token string">'org.vue.webpack.client-addon'</span><span class="token punctuation">,</span>
  <span class="token comment">// ä½¿ç”¨ä½ ä¹‹å‰é…ç½®è¿‡ä½åŒæ ·çš„ç«¯å£</span>
  url<span class="token punctuation">:</span> <span class="token string">'http://localhost:8042/index.js'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="ä½¿ç”¨å®¢æˆ·ç«¯-addon"><a href="#ä½¿ç”¨å®¢æˆ·ç«¯-addon" aria-hidden="true" class="header-anchor">#</a> ä½¿ç”¨å®¢æˆ·ç«¯ addon</h3> <p>ç°åœ¨ä½ å¯ä»¥åœ¨è¿™äº›è§†å›¾ä¸­ä½¿ç”¨å®¢æˆ·ç«¯ addon äº†ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥åœ¨ä¸€ä¸ªè¢«æè¿°çš„ä»»åŠ¡ä¸­æŒ‡å®šä¸€ä¸ªè§†å›¾ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">describeTask</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">/* ... */</span>
  <span class="token comment">// é¢å¤–çš„è§†å›¾ (ä¾‹å¦‚ webpack dashboard)</span>
  <span class="token comment">// é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™æ˜¯å±•ç¤ºç»ˆç«¯è¾“å‡ºçš„ 'output' è§†å›¾</span>
  views<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token comment">// å”¯ä¸€çš„ ID</span>
      id<span class="token punctuation">:</span> <span class="token string">'org.vue.webpack.views.dashboard'</span><span class="token punctuation">,</span>
      <span class="token comment">// æŒ‰é’®æ–‡å­—</span>
      label<span class="token punctuation">:</span> <span class="token string">'Dashboard'</span><span class="token punctuation">,</span>
      <span class="token comment">// æŒ‰é’®å›¾æ ‡ (material-icons)</span>
      icon<span class="token punctuation">:</span> <span class="token string">'dashboard'</span><span class="token punctuation">,</span>
      <span class="token comment">// åŠ è½½çš„åŠ¨æ€ç»„ä»¶ï¼Œä¼šç”¨ ClientAddonApi è¿›è¡Œæ³¨å†Œ</span>
      component<span class="token punctuation">:</span> <span class="token string">'org.vue.webpack.components.dashboard'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// å±•ç¤ºä»»åŠ¡è¯¦æƒ…æ—¶é»˜è®¤é€‰æ‹©çš„è§†å›¾ (é»˜è®¤æƒ…å†µä¸‹å°±æ˜¯ output)</span>
  defaultView<span class="token punctuation">:</span> <span class="token string">'org.vue.webpack.views.dashboard'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>è¿™æ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯ addon ä»£ç ï¼Œæ³¨å†Œäº† `'org.vue.webpack.components.dashboard' ç»„ä»¶ (åƒæˆ‘ä»¬ä¹‹å‰çœ‹åˆ°çš„ä¸€æ ·)ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/* åœ¨ `main.js` ä¸­ */</span>
<span class="token comment">// å¯¼å…¥ç»„ä»¶</span>
<span class="token keyword">import</span> WebpackDashboard <span class="token keyword">from</span> <span class="token string">'./components/WebpackDashboard.vue'</span>
<span class="token comment">// æ³¨å†Œè‡ªå®šä¹‰ç»„ä»¶</span>
<span class="token comment">// (å·¥ä½œåŸç†ç±»ä¼¼ 'Vue.component')</span>
ClientAddonApi<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'org.vue.webpack.components.dashboard'</span><span class="token punctuation">,</span> WebpackDashboard<span class="token punctuation">)</span>
</code></pre></div><p><img src="/task-view.png" alt="ä»»åŠ¡è§†å›¾ç¤ºä¾‹"></p> <h2 id="è‡ªå®šä¹‰è§†å›¾"><a href="#è‡ªå®šä¹‰è§†å›¾" aria-hidden="true" class="header-anchor">#</a> è‡ªå®šä¹‰è§†å›¾</h2> <p>ä½ å¯ä»¥ä½¿ç”¨ <code>api.addView</code> æ–¹æ³•åœ¨æ ‡å‡†çš„â€œProject pluginsâ€ã€â€œProject configurationâ€å’Œâ€œProject tasksâ€ä¹‹ä¸‹æ·»åŠ ä¸€ä¸ªæ–°çš„è§†å›¾ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">addView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// å”¯ä¸€çš„ id</span>
  id<span class="token punctuation">:</span> <span class="token string">'org.vue.webpack.views.test'</span><span class="token punctuation">,</span>

  <span class="token comment">// è·¯ç”±åç§° (æ¥è‡ª Vue Router)</span>
  <span class="token comment">// ä½¿ç”¨ 'ClientAddonApi.addRoutes' æ–¹æ³•ä¸­ç›¸åŒçš„åå­— (è¯¦è§ä¹‹å‰çš„å®¢æˆ·ç«¯ addon ç« èŠ‚)</span>
  name<span class="token punctuation">:</span> <span class="token string">'org.vue.webpack.routes.test'</span><span class="token punctuation">,</span>

  <span class="token comment">// æŒ‰é’®å›¾æ ‡ (material-icons)</span>
  icon<span class="token punctuation">:</span> <span class="token string">'pets'</span><span class="token punctuation">,</span>
  <span class="token comment">// ä½ ä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªè‡ªå®šä¹‰å›¾ç‰‡ (è¯¦è§ä¹‹å‰çš„å…¬å…±é™æ€æ–‡ä»¶ç« èŠ‚)ï¼š</span>
  <span class="token comment">// icon: 'http://localhost:4000/_plugin/%40vue%2Fcli-service/webpack-icon.svg',</span>

  <span class="token comment">// æŒ‰é’®çš„æç¤ºæ–‡å­—</span>
  tooltip<span class="token punctuation">:</span> <span class="token string">'Test view from webpack addon'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>è¿™é‡Œæ˜¯æ³¨å†Œäº† <code>'org.vue.webpack.routes.test'</code> çš„å®¢æˆ·ç«¯ addon é‡Œçš„ä»£ç  (ä¹‹å‰å·²ç»è§è¿‡äº†)ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/* åœ¨ `main.js` é‡Œ */</span>
<span class="token comment">// å¯¼å…¥ç»„ä»¶</span>
<span class="token keyword">import</span> TestView <span class="token keyword">from</span> <span class="token string">'./components/TestView.vue'</span>
<span class="token comment">// åœ¨ vue-router ä¸­ä¸º /addon/&lt;id&gt; æ·»åŠ å­è·¯ç”±</span>
<span class="token comment">// ä¾‹å¦‚ï¼ŒaddRoutes('foo', [ { path: '' }, { path: 'bar' } ])</span>
<span class="token comment">// å°†ä¸º Vue Router æ·»åŠ  /addon/foo/ å’Œ /addon/foo/bar è·¯ç”±ã€‚</span>
<span class="token comment">// æˆ‘ä»¬è¿™é‡Œåˆ›å»ºä¸€ä¸ªæ–°çš„ '/addon/vue-webpack/' è·¯ç”±ï¼Œå¹¶å‘½åä¸º 'test-webpack-route'ã€‚</span>
ClientAddonApi<span class="token punctuation">.</span><span class="token function">addRoutes</span><span class="token punctuation">(</span><span class="token string">'org.vue.webpack'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> path<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'org.vue.webpack.routes.test'</span><span class="token punctuation">,</span> component<span class="token punctuation">:</span> TestView <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p><img src="/custom-view.png" alt="è‡ªå®šä¹‰è§†å›¾ç¤ºä¾‹"></p> <h2 id="å…±äº«çš„æ•°æ®"><a href="#å…±äº«çš„æ•°æ®" aria-hidden="true" class="header-anchor">#</a> å…±äº«çš„æ•°æ®</h2> <p>ä¸€ç§ç®€æ˜“çš„è‡ªå®šä¹‰ç»„ä»¶ä¹‹é—´é€šè¿‡å…±äº«çš„æ•°æ®äº’é€šä¿¡æ¯çš„æ–¹å¼ã€‚</p> <blockquote><p>ä¾‹å¦‚ï¼Œwebpack ä»ªè¡¨ç›˜åœ¨ UI å®¢æˆ·ç«¯å’Œ UI æœåŠ¡ç«¯ä¹‹é—´é€šè¿‡è¿™ä¸ª API å…±äº«äº†æ„å»ºçš„ç»Ÿè®¡ä¿¡æ¯ã€‚</p></blockquote> <p>åœ¨æ’ä»¶ <code>ui.js</code> (Node.js) ä¸­ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// è®¾ç½®æˆ–æ›´æ–°</span>
api<span class="token punctuation">.</span><span class="token function">setSharedData</span><span class="token punctuation">(</span><span class="token string">'com.my-name.my-variable'</span><span class="token punctuation">,</span> <span class="token string">'some-data'</span><span class="token punctuation">)</span>

<span class="token comment">// è·å–</span>
<span class="token keyword">const</span> sharedData <span class="token operator">=</span> api<span class="token punctuation">.</span><span class="token function">getSharedData</span><span class="token punctuation">(</span><span class="token string">'com.my-name.my-variable'</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>sharedData<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sharedData<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// ç§»é™¤</span>
api<span class="token punctuation">.</span><span class="token function">removeSharedData</span><span class="token punctuation">(</span><span class="token string">'com.my-name.my-variable'</span><span class="token punctuation">)</span>

<span class="token comment">// ä¾¦å¬å˜åŒ–</span>
<span class="token keyword">const</span> <span class="token function-variable function">watcher</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> id<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
api<span class="token punctuation">.</span><span class="token function">watchSharedData</span><span class="token punctuation">(</span><span class="token string">'com.my-name.my-variable'</span><span class="token punctuation">,</span> watcher<span class="token punctuation">)</span>
<span class="token comment">// å–æ¶ˆä¾¦å¬</span>
api<span class="token punctuation">.</span><span class="token function">unwatchSharedData</span><span class="token punctuation">(</span><span class="token string">'com.my-name.my-variable'</span><span class="token punctuation">,</span> watcher<span class="token punctuation">)</span>

<span class="token comment">// å¸¦å‘½åç©ºé—´çš„ç‰ˆæœ¬</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span>
  setSharedData<span class="token punctuation">,</span>
  getSharedData<span class="token punctuation">,</span>
  removeSharedData<span class="token punctuation">,</span>
  watchSharedData<span class="token punctuation">,</span>
  unwatchSharedData
<span class="token punctuation">}</span> <span class="token operator">=</span> api<span class="token punctuation">.</span><span class="token function">namespace</span><span class="token punctuation">(</span><span class="token string">'com.my-name.'</span><span class="token punctuation">)</span>
</code></pre></div><div class="danger custom-block"><p class="custom-block-title">å±é™©</p> <p>è¯·ç¡®å®šä¸º id è®¾ç½®æ­£ç¡®çš„å‘½åç©ºé—´ï¼Œå› ä¸ºå®ƒéœ€è¦è·¨æ‰€æœ‰æ’ä»¶ä¿æŒå”¯ä¸€ã€‚æˆ‘ä»¬æ¨èä½¿ç”¨<a href="https://en.wikipedia.org/wiki/Reverse_domain_name_notation" target="_blank" rel="noopener noreferrer">åå‘åŸŸåè®°å· (reverse domain name notation)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ã€‚</p></div> <p>åœ¨å…¶è‡ªå®šä¹‰ç»„ä»¶ä¸­ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Vue ç»„ä»¶</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// åŒæ­¥å…±äº«çš„æ•°æ®</span>
  <span class="token function">sharedData</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token comment">// ä½ å¯ä»¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ `myVariable`</span>
      myVariable<span class="token punctuation">:</span> <span class="token string">'com.my-name.my-variable'</span>
      <span class="token comment">// ä¹Ÿå¯ä»¥æ˜ å°„å¸¦å‘½åç©ºé—´çš„å…±äº«æ•°æ®</span>
      <span class="token operator">...</span><span class="token function">mapSharedData</span><span class="token punctuation">(</span><span class="token string">'com.my-name.'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        myVariable2<span class="token punctuation">:</span> <span class="token string">'my-variable2'</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// æ‰‹åŠ¨æ–¹æ³•</span>
  <span class="token keyword">async</span> <span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$getSharedData</span><span class="token punctuation">(</span><span class="token string">'com.my-name.my-variable'</span><span class="token punctuation">)</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$watchSharedData</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`com.my-name.my-variable`</span></span><span class="token punctuation">,</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$setSharedData</span><span class="token punctuation">(</span><span class="token string">'com.my-name.my-variable'</span><span class="token punctuation">,</span> <span class="token string">'new-value'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å¦‚æœä½ ä½¿ç”¨äº† <code>sharedData</code> é€‰é¡¹ï¼Œå…±äº«çš„æ•°æ®å°±å¯ä»¥ä¸€ä¸ªç›¸åº”çš„å±æ€§è¢«èµ‹å€¼æ—¶è¿›è¡Œæ›´æ–°ã€‚</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VueInput</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>message<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  sharedData<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// å°†ä¼šåœ¨æœåŠ¡ç«¯åŒæ­¥ 'my-message' å…±äº«çš„æ•°æ®</span>
    message<span class="token punctuation">:</span> <span class="token string">'com.my-name.my-message'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ä¾‹å¦‚åœ¨åˆ›å»ºä¸€ä¸ªè®¾ç½®ç»„ä»¶æ—¶ï¼Œè¿™ä¸ªç‰¹æ€§æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚</p> <h2 id="æ’ä»¶çš„-action"><a href="#æ’ä»¶çš„-action" aria-hidden="true" class="header-anchor">#</a> æ’ä»¶çš„ action</h2> <p>æ’ä»¶çš„ action å°±æ˜¯åœ¨ cli-ui (æµè§ˆå™¨) å’Œæ’ä»¶ (Node.js) ç›´æ¥çš„è°ƒç”¨ã€‚</p> <blockquote><p>ä¾‹å¦‚ï¼Œä½ å¯èƒ½æœ‰ä¸€ä¸ªè‡ªå®šä¹‰ç»„ä»¶é‡Œçš„æŒ‰é’® (è¯¦è§<a href="#%E5%AE%A2%E6%88%B7%E7%AB%AF-addon">å®¢æˆ·ç«¯ addon</a>)ï¼Œè¿™ä¸ªæŒ‰é’®ä¼šé€šè¿‡è¿™ä¸ª API å‘æœåŠ¡ç«¯è°ƒç”¨ä¸€äº› Node.js ä»£ç ã€‚</p></blockquote> <p>åœ¨æ’ä»¶ (Node.js) çš„ <code>ui.js</code> æ–‡ä»¶é‡Œï¼Œä½ å¯ä»¥ä» <code>PluginApi</code> ä½¿ç”¨ä¸¤ä¸ªæ–¹æ³•ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// è°ƒç”¨ä¸€ä¸ª action</span>
api<span class="token punctuation">.</span><span class="token function">callAction</span><span class="token punctuation">(</span><span class="token string">'com.my-name.other-action'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token string">'bar'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">results</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">errors</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>errors<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ç›‘å¬ä¸€ä¸ª action</span>
api<span class="token punctuation">.</span><span class="token function">onAction</span><span class="token punctuation">(</span><span class="token string">'com.my-name.test-action'</span><span class="token punctuation">,</span> <span class="token parameter">params</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'test-action called'</span><span class="token punctuation">,</span> params<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="danger custom-block"><p class="custom-block-title">å±é™©</p> <p>è¯·ç¡®å®šä¸º id è®¾ç½®æ­£ç¡®çš„å‘½åç©ºé—´ï¼Œå› ä¸ºå®ƒéœ€è¦è·¨æ‰€æœ‰æ’ä»¶ä¿æŒå”¯ä¸€ã€‚æˆ‘ä»¬æ¨èä½¿ç”¨<a href="https://en.wikipedia.org/wiki/Reverse_domain_name_notation" target="_blank" rel="noopener noreferrer">åå‘åŸŸåè®°å· (reverse domain name notation)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ã€‚</p></div> <p>ä½ å¯ä»¥é€šè¿‡ <code>api.namespace</code> ä½¿ç”¨å¸¦å‘½åç©ºé—´çš„ç‰ˆæœ¬ (ç±»ä¼¼å…±äº«çš„æ•°æ®)ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> onAction<span class="token punctuation">,</span> callAction <span class="token punctuation">}</span> <span class="token operator">=</span> api<span class="token punctuation">.</span><span class="token function">namespace</span><span class="token punctuation">(</span><span class="token string">'com.my-name.'</span><span class="token punctuation">)</span>
</code></pre></div><p>åœ¨å®¢æˆ·ç«¯ addon ç»„ä»¶ (æµè§ˆå™¨) ä¸­ï¼Œä½ å¯ä»¥è®¿é—® <code>$onPluginActionCalled</code>ã€<code>$onPluginActionResolved</code> å’Œ <code>$callPluginAction</code>ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Vue ç»„ä»¶</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$onPluginActionCalled</span><span class="token punctuation">(</span><span class="token parameter">action</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// å½“ action è¢«è°ƒç”¨æ—¶</span>
      <span class="token comment">// ä¸”åœ¨è¿è¡Œä¹‹å‰</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'called'</span><span class="token punctuation">,</span> action<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$onPluginActionResolved</span><span class="token punctuation">(</span><span class="token parameter">action</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// å½“ action è¿è¡Œå®Œæ¯•ä¹‹å</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'resolved'</span><span class="token punctuation">,</span> action<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">testPluginAction</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// è°ƒç”¨ä¸€ä¸ªæ’ä»¶çš„ action</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$callPluginAction</span><span class="token punctuation">(</span><span class="token string">'com.my-name.test-action'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        meow<span class="token punctuation">:</span> <span class="token string">'meow'</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="è¿›ç¨‹é—´é€šä¿¡-ipc"><a href="#è¿›ç¨‹é—´é€šä¿¡-ipc" aria-hidden="true" class="header-anchor">#</a> è¿›ç¨‹é—´é€šä¿¡ (IPC)</h2> <p>IPC å°±æ˜¯è¿›ç¨‹é—´é€šä¿¡ (Inter-Process Communication) çš„ç¼©å†™ã€‚è¯¥ç³»ç»Ÿå…è®¸ä½ è½»æ¾çš„ä»å­è¿›ç¨‹ (ä¾‹å¦‚ä»»åŠ¡) å‘é€æ¶ˆæ¯ï¼Œå¹¶ä¸”è½»é‡å¿«é€Ÿã€‚</p> <blockquote><p>ä¸ºäº†åœ¨ webpack ä»ªè¡¨ç›˜ UI ä¸Šå±•ç¤ºæ•°æ®ï¼Œ<code>@vue/cli-service</code> çš„ <code>serve</code> å’Œ <code>build</code> å‘½ä»¤ä¼šåœ¨ <code>--dashboard</code> å‚æ•°è¢«ä¼ å…¥æ—¶å‘ cli-ui Node.js æœåŠ¡å™¨å‘é€ IPC æ¶ˆæ¯ã€‚</p></blockquote> <p>åœ¨è¿›ç¨‹ä»£ç ä¸­ (å¯ä»¥æ˜¯ä¸€ä¸ª webpack æ’ä»¶æˆ–ä¸€ä¸ª Node.js çš„ä»»åŠ¡è„šæœ¬)ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>@vue/cli-shared-utils</code> ä¸­çš„ <code>IpcMessenger</code> ç±»ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> IpcMessenger <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@vue/cli-shared-utils'</span><span class="token punctuation">)</span>

<span class="token comment">// åˆ›å»ºä¸€ä¸ªæ–°çš„ IpcMessenger å®ä¾‹</span>
<span class="token keyword">const</span> ipc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IpcMessenger</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">sendMessage</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// å‘é€ä¸€æ¡æ¶ˆæ¯ç»™ cli-ui æœåŠ¡å™¨</span>
  ipc<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string">'com.my-name.some-data'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'build'</span><span class="token punctuation">,</span>
      value<span class="token punctuation">:</span> data
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">messageHandler</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// ç›‘å¬æ¶ˆæ¯</span>
ipc<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>messageHandler<span class="token punctuation">)</span>

<span class="token comment">// ä¸å†ç›‘å¬</span>
ipc<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span>messageHandler<span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">cleanup</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ä» IPC ç½‘ç»œæ–­å¼€è¿æ¥</span>
  ipc<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ‰‹åŠ¨è¿æ¥ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> ipc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IpcMessenger</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  autoConnect<span class="token punctuation">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// è¿™æ¡æ¶ˆæ¯ä¼šè¢«æ”¾å…¥é˜Ÿåˆ—</span>
ipc<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

ipc<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>é—²æ—¶è‡ªåŠ¨æ–­å¼€è¿æ¥ (åœ¨æ²¡æœ‰ä»»ä½•æ¶ˆæ¯ä¸€æ®µæ—¶é—´ä¹‹å)ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> ipc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IpcMessenger</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  disconnectOnIdle<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  idleTimeout<span class="token punctuation">:</span> <span class="token number">3000</span> <span class="token comment">// é»˜è®¤å€¼</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

ipc<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ipc<span class="token punctuation">.</span>connected<span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span>
</code></pre></div><p>è¿æ¥åˆ°å¦ä¸€ä¸ª IPC ç½‘ç»œï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> ipc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IpcMessenger</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  networkId<span class="token punctuation">:</span> <span class="token string">'com.my-name.my-ipc-network'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>åœ¨ä¸€ä¸ª vue-cli æ’ä»¶çš„ <code>ui.js</code> æ–‡ä»¶ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>ipcOn</code>ã€<code>ipcOff</code> å’Œ <code>ipcSend</code> æ–¹æ³•ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">onWebpackMessage</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> data<span class="token punctuation">:</span> message <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>message<span class="token punctuation">[</span><span class="token string">'com.my-name.some-data'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">[</span><span class="token string">'com.my-name.some-data'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// ç›‘å¬ä»»ä½• IPC æ¶ˆæ¯</span>
api<span class="token punctuation">.</span><span class="token function">ipcOn</span><span class="token punctuation">(</span>onWebpackMessage<span class="token punctuation">)</span>

<span class="token comment">// ä¸ç›‘å¬ä»»ä½•æ¶ˆæ¯</span>
api<span class="token punctuation">.</span><span class="token function">ipcOff</span><span class="token punctuation">(</span>onWebpackMessage<span class="token punctuation">)</span>

<span class="token comment">// å‘æ‰€æœ‰å·²è¿æ¥çš„ IpcMessenger å®ä¾‹å‘é€ä¸€æ¡æ¶ˆæ¯</span>
api<span class="token punctuation">.</span><span class="token function">ipcSend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  webpackDashboardMessage<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    foo<span class="token punctuation">:</span> <span class="token string">'bar'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="æœ¬åœ°å­˜å‚¨"><a href="#æœ¬åœ°å­˜å‚¨" aria-hidden="true" class="header-anchor">#</a> æœ¬åœ°å­˜å‚¨</h2> <p>ä¸€ä¸ªæ’ä»¶å¯ä»¥ä» UI æœåŠ¡å™¨æœ¬åœ°çš„ <a href="https://github.com/typicode/lowdb" target="_blank" rel="noopener noreferrer">lowdb<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> æ•°æ®åº“ä¿å­˜å’ŒåŠ è½½æ•°æ®ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å‘æœ¬åœ°çš„æ•°æ®åº“å­˜å…¥ä¸€ä¸ªå€¼</span>
api<span class="token punctuation">.</span><span class="token function">storageSet</span><span class="token punctuation">(</span><span class="token string">'com.my-name.an-id'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> some<span class="token punctuation">:</span> <span class="token string">'value'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// ä»æœ¬åœ°çš„æ•°æ®åº“å–å›ä¸€ä¸ªå€¼</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>api<span class="token punctuation">.</span><span class="token function">storageGet</span><span class="token punctuation">(</span><span class="token string">'com.my-name.an-id'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// å®Œæ•´çš„ lowdb å®ä¾‹</span>
api<span class="token punctuation">.</span>db<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'posts'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span> title<span class="token punctuation">:</span> <span class="token string">'low!'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span> title<span class="token punctuation">:</span> <span class="token string">'hi!'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// å¸¦å‘½åç©ºé—´çš„è¾…åŠ©å‡½æ•°</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> storageGet<span class="token punctuation">,</span> storageSet <span class="token punctuation">}</span> <span class="token operator">=</span> api<span class="token punctuation">.</span><span class="token function">namespace</span><span class="token punctuation">(</span><span class="token string">'my-plugin.'</span><span class="token punctuation">)</span>
</code></pre></div><div class="danger custom-block"><p class="custom-block-title">å±é™©</p> <p>è¯·ç¡®å®šä¸º id è®¾ç½®æ­£ç¡®çš„å‘½åç©ºé—´ï¼Œå› ä¸ºå®ƒéœ€è¦è·¨æ‰€æœ‰æ’ä»¶ä¿æŒå”¯ä¸€ã€‚æˆ‘ä»¬æ¨èä½¿ç”¨<a href="https://en.wikipedia.org/wiki/Reverse_domain_name_notation" target="_blank" rel="noopener noreferrer">åå‘åŸŸåè®°å· (reverse domain name notation)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ã€‚</p></div> <h2 id="notification"><a href="#notification" aria-hidden="true" class="header-anchor">#</a> Notification</h2> <p>ä½ å¯ä»¥åŸºäºç”¨æˆ·æ“ä½œç³»ç»Ÿçš„é€šçŸ¥ç³»ç»Ÿå±•ç¤ºé€šçŸ¥ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  title<span class="token punctuation">:</span> <span class="token string">'Some title'</span><span class="token punctuation">,</span>
  message<span class="token punctuation">:</span> <span class="token string">'Some message'</span><span class="token punctuation">,</span>
  icon<span class="token punctuation">:</span> <span class="token string">'path-to-icon.png'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>è¿™é‡Œæœ‰ä¸€äº›å†…å»ºçš„å›¾æ ‡ï¼›</p> <ul><li><code>'done'</code></li> <li><code>'error'</code></li></ul> <h2 id="è¿›åº¦ç•Œé¢"><a href="#è¿›åº¦ç•Œé¢" aria-hidden="true" class="header-anchor">#</a> è¿›åº¦ç•Œé¢</h2> <p>ä½ å¯ä»¥ç”¨ä¸€äº›æ–‡å­—æˆ–è¿›åº¦æ¡æ¥å±•ç¤ºè¿›åº¦ç•Œé¢ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">setProgress</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  status<span class="token punctuation">:</span> <span class="token string">'Upgrading...'</span><span class="token punctuation">,</span>
  error<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  info<span class="token punctuation">:</span> <span class="token string">'Step 2 of 4'</span><span class="token punctuation">,</span>
  progress<span class="token punctuation">:</span> <span class="token number">0.4</span> <span class="token comment">// ä» 0 åˆ° 1, -1 è¡¨ç¤ºéšè—è¿›åº¦æ¡</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>ç§»é™¤è¿›åº¦ç•Œé¢ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">removeProgress</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="é’©å­"><a href="#é’©å­" aria-hidden="true" class="header-anchor">#</a> é’©å­</h2> <p>é’©å­å¯ä»¥ç”¨æ¥å“åº”æŸäº› cli-ui çš„äº‹ä»¶ã€‚</p> <h3 id="onprojectopen"><a href="#onprojectopen" aria-hidden="true" class="header-anchor">#</a> onProjectOpen</h3> <p>å½“æ’ä»¶åœ¨å½“å‰é¡¹ç›®ä¸­ç¬¬ä¸€æ¬¡è¢«åŠ è½½æ—¶è§¦å‘ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">onProjectOpen</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">project<span class="token punctuation">,</span> previousProject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// é‡ç½®æ•°æ®</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="onpluginreload"><a href="#onpluginreload" aria-hidden="true" class="header-anchor">#</a> onPluginReload</h3> <p>å½“æ’ä»¶è¢«é‡æ–°åŠ è½½æ—¶è§¦å‘ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">onPluginReload</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">project</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'plugin reloaded'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="onconfigread"><a href="#onconfigread" aria-hidden="true" class="header-anchor">#</a> onConfigRead</h3> <p>å½“ä¸€ä¸ªé…ç½®ç•Œé¢è¢«æ‰“å¼€æˆ–åˆ·æ–°æ—¶è§¦å‘ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">onConfigRead</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> config<span class="token punctuation">,</span> data<span class="token punctuation">,</span> onReadData<span class="token punctuation">,</span> tabs<span class="token punctuation">,</span> cwd <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="onconfigwrite"><a href="#onconfigwrite" aria-hidden="true" class="header-anchor">#</a> onConfigWrite</h3> <p>å½“ç”¨æˆ·åœ¨ä¿å­˜ç•Œé¢é‡Œä¿å­˜æ—¶è§¦å‘ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">onConfigWrite</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> config<span class="token punctuation">,</span> data<span class="token punctuation">,</span> changedFields<span class="token punctuation">,</span> cwd <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="ontaskopen"><a href="#ontaskopen" aria-hidden="true" class="header-anchor">#</a> onTaskOpen</h3> <p>å½“ç”¨æˆ·æ‰“å¼€ä¸€é¡¹ä»»åŠ¡çš„è¯¦æƒ…é¢æ¿æ—¶è§¦å‘ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">onTaskOpen</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> task<span class="token punctuation">,</span> cwd <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>task<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="ontaskrun"><a href="#ontaskrun" aria-hidden="true" class="header-anchor">#</a> onTaskRun</h3> <p>å½“ç”¨æˆ·è¿è¡Œä¸€é¡¹ä»»åŠ¡æ—¶è§¦å‘ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">onTaskRun</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> task<span class="token punctuation">,</span> args<span class="token punctuation">,</span> child<span class="token punctuation">,</span> cwd <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="ontaskexit"><a href="#ontaskexit" aria-hidden="true" class="header-anchor">#</a> onTaskExit</h3> <p>å½“ä¸€é¡¹ä»»åŠ¡é€€å‡ºæ—¶è§¦å‘ã€‚ä¸è®ºä»»åŠ¡æˆåŠŸæˆ–å¤±è´¥å®ƒéƒ½ä¼šè§¦å‘ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">onTaskExit</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> task<span class="token punctuation">,</span> args<span class="token punctuation">,</span> child<span class="token punctuation">,</span> signal<span class="token punctuation">,</span> code<span class="token punctuation">,</span> cwd <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="onviewopen"><a href="#onviewopen" aria-hidden="true" class="header-anchor">#</a> onViewOpen</h3> <p>å½“ç”¨æˆ·æ‰“å¼€ä¸€ä¸ªè§†å›¾ (å¦‚ 'Plugins'ã€'Configurations' æˆ– 'Tasks') æ—¶è§¦å‘ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">onViewOpen</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> view<span class="token punctuation">,</span> cwd <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>view<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="å»ºè®®"><a href="#å»ºè®®" aria-hidden="true" class="header-anchor">#</a> å»ºè®®</h2> <p>è¿™é‡Œçš„å»ºè®®æ˜¯æŒ‡ä¸ºç”¨æˆ·æè®®æ‰§è¡Œ action çš„æŒ‰é’®ã€‚å®ƒä»¬å±•ç¤ºåœ¨ç•Œé¢çš„é¡¶æ ä¸Šã€‚ä¾‹å¦‚æˆ‘ä»¬å¯ä»¥æ”¾ä¸€ä¸ªæŒ‰é’®ï¼Œåœ¨åº”ç”¨é‡Œæ²¡æœ‰æ£€æµ‹åˆ° Vue Router åŒ…çš„æ—¶å€™å»ºè®®å°†å…¶å®‰è£…ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">addSuggestion</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  id<span class="token punctuation">:</span> <span class="token string">'com.my-name.my-suggestion'</span><span class="token punctuation">,</span>
  type<span class="token punctuation">:</span> <span class="token string">'action'</span><span class="token punctuation">,</span> <span class="token comment">// å¿…å¡« (æœªæ¥ä¼šåŠ å…¥æ›´å¤šç±»å‹)</span>
  label<span class="token punctuation">:</span> <span class="token string">'Add vue-router'</span><span class="token punctuation">,</span>
  <span class="token comment">// è¯¥æ¶ˆæ¯ä¼šå±•ç¤ºåœ¨ä¸€ä¸ªè¯¦æƒ…æ¨¡æ€æ¡†é‡Œ</span>
  message<span class="token punctuation">:</span> <span class="token string">'A longer message for the modal'</span><span class="token punctuation">,</span>
  link<span class="token punctuation">:</span> <span class="token string">'http://link-to-docs-in-the-modal'</span><span class="token punctuation">,</span>
  <span class="token comment">// å¯é€‰çš„å›¾ç‰‡</span>
  image<span class="token punctuation">:</span> <span class="token string">'/_plugin/my-package/screenshot.png'</span><span class="token punctuation">,</span>
  <span class="token comment">// å½“è¯¥é¡¹å»ºè®®è¢«ç”¨æˆ·æ¿€æ´»æ—¶è°ƒç”¨çš„å‡½æ•°</span>
  <span class="token keyword">async</span> <span class="token function">handler</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token comment">// é»˜è®¤ç§»é™¤è¿™ä¸ªæŒ‰é’®</span>
      keep<span class="token punctuation">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="danger custom-block"><p class="custom-block-title">å±é™©</p> <p>è¯·ç¡®å®šä¸º id è®¾ç½®æ­£ç¡®çš„å‘½åç©ºé—´ï¼Œå› ä¸ºå®ƒéœ€è¦è·¨æ‰€æœ‰æ’ä»¶ä¿æŒå”¯ä¸€ã€‚æˆ‘ä»¬æ¨èä½¿ç”¨<a href="https://en.wikipedia.org/wiki/Reverse_domain_name_notation" target="_blank" rel="noopener noreferrer">åå‘åŸŸåè®°å· (reverse domain name notation)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ã€‚</p></div> <p><img src="/suggestion.png" alt="UI å»ºè®®"></p> <p>ä¹‹åä½ å¯ä»¥ç§»é™¤è¿™é¡¹å»ºè®®ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">removeSuggestion</span><span class="token punctuation">(</span><span class="token string">'com.my-name.my-suggestion'</span><span class="token punctuation">)</span>
</code></pre></div><p>ä½ ä¹Ÿå¯ä»¥ç»™å»ºè®®é™„å¸¦ <code>actionLink</code>ï¼Œå½“ç”¨æˆ·æ¿€æ´»å®ƒæ—¶ï¼Œä¼šæ¢åšæ‰“å¼€ä¸€ä¸ªé¡µé¢ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">addSuggestion</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  id<span class="token punctuation">:</span> <span class="token string">'com.my-name.my-suggestion'</span><span class="token punctuation">,</span>
  type<span class="token punctuation">:</span> <span class="token string">'action'</span><span class="token punctuation">,</span> <span class="token comment">// Required</span>
  label<span class="token punctuation">:</span> <span class="token string">'Add vue-router'</span><span class="token punctuation">,</span>
  <span class="token comment">// æ‰“å¼€ä¸€ä¸ªæ–°æ ‡ç­¾</span>
  actionLink<span class="token punctuation">:</span> <span class="token string">'https://vuejs.org/'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œä½ ä¼šé€‰æ‹©é€‚å½“çš„ä¸Šä¸‹æ–‡ç”¨é’©å­æ¥å±•ç¤ºå»ºè®®ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token constant">ROUTER</span> <span class="token operator">=</span> <span class="token string">'vue-router-add'</span>

api<span class="token punctuation">.</span><span class="token function">onViewOpen</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> view <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>view<span class="token punctuation">.</span>id <span class="token operator">===</span> <span class="token string">'vue-project-plugins'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>api<span class="token punctuation">.</span><span class="token function">hasPlugin</span><span class="token punctuation">(</span><span class="token string">'vue-router'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      api<span class="token punctuation">.</span><span class="token function">addSuggestion</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        id<span class="token punctuation">:</span> <span class="token constant">ROUTER</span><span class="token punctuation">,</span>
        type<span class="token punctuation">:</span> <span class="token string">'action'</span><span class="token punctuation">,</span>
        label<span class="token punctuation">:</span> <span class="token string">'org.vue.cli-service.suggestions.vue-router-add.label'</span><span class="token punctuation">,</span>
        message<span class="token punctuation">:</span> <span class="token string">'org.vue.cli-service.suggestions.vue-router-add.message'</span><span class="token punctuation">,</span>
        link<span class="token punctuation">:</span> <span class="token string">'https://router.vuejs.org/'</span><span class="token punctuation">,</span>
        <span class="token keyword">async</span> <span class="token function">handler</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">await</span> <span class="token function">install</span><span class="token punctuation">(</span>api<span class="token punctuation">,</span> <span class="token string">'vue-router'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    api<span class="token punctuation">.</span><span class="token function">removeSuggestion</span><span class="token punctuation">(</span><span class="token constant">ROUTER</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¦‚æœ Vue Router æ²¡æœ‰å®‰è£…å¥½ï¼Œæˆ‘ä»¬åªä¼šåœ¨æ’ä»¶è§†å›¾ä¸­å±•ç¤ºå®‰è£… Vue Router çš„å»ºè®®ã€‚</p> <div class="tip custom-block"><p class="custom-block-title">æ³¨æ„</p> <p><code>addSuggestion</code> å’Œ <code>removeSuggestion</code> å¯ä»¥é€šè¿‡ <code>api.namespace()</code> æŒ‡å®šå‘½åç©ºé—´ã€‚</p></div> <h2 id="å…¶å®ƒæ–¹æ³•"><a href="#å…¶å®ƒæ–¹æ³•" aria-hidden="true" class="header-anchor">#</a> å…¶å®ƒæ–¹æ³•</h2> <h3 id="hasplugin"><a href="#hasplugin" aria-hidden="true" class="header-anchor">#</a> hasPlugin</h3> <p>å¦‚æœé¡¹ç›®ä½¿ç”¨äº†è¯¥æ’ä»¶åˆ™è¿”å› <code>true</code>ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">hasPlugin</span><span class="token punctuation">(</span><span class="token string">'eslint'</span><span class="token punctuation">)</span>
api<span class="token punctuation">.</span><span class="token function">hasPlugin</span><span class="token punctuation">(</span><span class="token string">'apollo'</span><span class="token punctuation">)</span>
api<span class="token punctuation">.</span><span class="token function">hasPlugin</span><span class="token punctuation">(</span><span class="token string">'vue-cli-plugin-apollo'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="getcwd"><a href="#getcwd" aria-hidden="true" class="header-anchor">#</a> getCwd</h3> <p>è·å–å½“å‰å·¥ä½œç›®å½•ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">getCwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="resolve"><a href="#resolve" aria-hidden="true" class="header-anchor">#</a> resolve</h3> <p>åœ¨å½“å‰å·¥ç¨‹ä¸‹è§£æä¸€ä¸ªæ–‡ä»¶ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src/main.js'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="getproject"><a href="#getproject" aria-hidden="true" class="header-anchor">#</a> getProject</h3> <p>å¾—å‡ºå½“å‰æ‰“å¼€çš„å·¥ç¨‹ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">getProject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="å…¬å…±é™æ€æ–‡ä»¶"><a href="#å…¬å…±é™æ€æ–‡ä»¶" aria-hidden="true" class="header-anchor">#</a> å…¬å…±é™æ€æ–‡ä»¶</h2> <p>ä½ å¯èƒ½éœ€è¦åœ¨ cli-ui å†…å»ºçš„ HTTP æœåŠ¡å™¨ä¸Šæš´éœ²ä¸€äº›é™æ€æ–‡ä»¶ (é€šå¸¸æ˜¯ä¸ºè‡ªå®šä¹‰è§†å›¾æŒ‡å®šå›¾æ ‡)ã€‚</p> <p>åœ¨æ’ä»¶åŒ…æ ¹ç›®å½•é‡Œå¯é€‰çš„æ”¾ç½®ä¸€ä¸ª <code>ui-public</code> æ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹é‡Œçš„ä»»ä½•æ–‡ä»¶éƒ½ä¼šæš´éœ²è‡³ <code>/_plugin/:id/*</code> çš„ HTTP è·¯ç”±ã€‚</p> <p>ä¾‹å¦‚ï¼Œå¦‚æœä½ å°† <code>my-logo.png</code> æ–‡ä»¶æ”¾ç½®åˆ° <code>vue-cli-plugin-hello/ui-public/</code> æ–‡ä»¶å¤¹ï¼Œé‚£ä¹ˆ cli-ui åŠ è½½æ’ä»¶çš„æ—¶å€™å¯ä»¥é€šè¿‡ <code>/_plugin/vue-cli-plugin-hello/my-logo.png</code> è¿™ä¸ª URL æ¥è®¿é—®å®ƒã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">describeConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">/* ... */</span>
  <span class="token comment">// è‡ªå®šä¹‰å›¾ç‰‡</span>
  icon<span class="token punctuation">:</span> <span class="token string">'/_plugin/vue-cli-plugin-hello/my-logo.png'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/joe-sky/nornj-cli/edit/master/docs/zh/dev-guide/ui-api.md" target="_blank" rel="noopener noreferrer">åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡ç¼–è¾‘æ—¶é—´: </span> <span class="time">2019-6-24 19:53:13</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/nornj-cli/zh/dev-guide/ui-info.html" class="prev">
          UI æ’ä»¶ä¿¡æ¯
        </a></span> <span class="next"><a href="/nornj-cli/zh/dev-guide/ui-localization.html">
          UI æœ¬åœ°åŒ–
        </a>
        â†’
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/nornj-cli/assets/js/app.2af35da0.js" defer></script><script src="/nornj-cli/assets/js/3.044bb90b.js" defer></script><script src="/nornj-cli/assets/js/52.df5b773f.js" defer></script>
  </body>
</html>
