<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>部署 | NornJ CLI</title>
    <meta name="description" content="🛠️ 一套可配置化、易于扩展的脚手架工具">
    <link rel="icon" href="/nornj-cli/favicon.png">
  <link rel="manifest" href="/nornj-cli/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/nornj-cli/icons/apple-touch-icon-152x152.png">
  <link rel="mask-icon" href="/nornj-cli/icons/safari-pinned-tab.svg" color="#3eaf7c">
  <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/nornj-cli/assets/css/0.styles.f1bfe761.css" as="style"><link rel="preload" href="/nornj-cli/assets/js/app.261fa4a4.js" as="script"><link rel="preload" href="/nornj-cli/assets/js/3.bc847c09.js" as="script"><link rel="preload" href="/nornj-cli/assets/js/64.402b88dd.js" as="script"><link rel="prefetch" href="/nornj-cli/assets/js/10.71560345.js"><link rel="prefetch" href="/nornj-cli/assets/js/11.0b95383d.js"><link rel="prefetch" href="/nornj-cli/assets/js/12.df985099.js"><link rel="prefetch" href="/nornj-cli/assets/js/13.430cdf18.js"><link rel="prefetch" href="/nornj-cli/assets/js/14.c6a216b4.js"><link rel="prefetch" href="/nornj-cli/assets/js/15.6336aba1.js"><link rel="prefetch" href="/nornj-cli/assets/js/16.b9c9eed8.js"><link rel="prefetch" href="/nornj-cli/assets/js/17.f1857aac.js"><link rel="prefetch" href="/nornj-cli/assets/js/18.5d12849b.js"><link rel="prefetch" href="/nornj-cli/assets/js/19.a2ed0afb.js"><link rel="prefetch" href="/nornj-cli/assets/js/20.3cd1f9b8.js"><link rel="prefetch" href="/nornj-cli/assets/js/21.d4ec2cde.js"><link rel="prefetch" href="/nornj-cli/assets/js/22.fb94c59a.js"><link rel="prefetch" href="/nornj-cli/assets/js/23.510d0506.js"><link rel="prefetch" href="/nornj-cli/assets/js/24.bb3e705c.js"><link rel="prefetch" href="/nornj-cli/assets/js/25.2f0883d4.js"><link rel="prefetch" href="/nornj-cli/assets/js/26.cc95afe5.js"><link rel="prefetch" href="/nornj-cli/assets/js/27.2b4cf4d0.js"><link rel="prefetch" href="/nornj-cli/assets/js/28.0677e297.js"><link rel="prefetch" href="/nornj-cli/assets/js/29.7be9099e.js"><link rel="prefetch" href="/nornj-cli/assets/js/30.b61b8509.js"><link rel="prefetch" href="/nornj-cli/assets/js/31.3678a010.js"><link rel="prefetch" href="/nornj-cli/assets/js/32.a7cd9e25.js"><link rel="prefetch" href="/nornj-cli/assets/js/33.bc2e2cf5.js"><link rel="prefetch" href="/nornj-cli/assets/js/34.256ebe73.js"><link rel="prefetch" href="/nornj-cli/assets/js/35.e0a1c1a8.js"><link rel="prefetch" href="/nornj-cli/assets/js/36.56fdf07f.js"><link rel="prefetch" href="/nornj-cli/assets/js/37.203d8c17.js"><link rel="prefetch" href="/nornj-cli/assets/js/38.ad005fb0.js"><link rel="prefetch" href="/nornj-cli/assets/js/39.4991a369.js"><link rel="prefetch" href="/nornj-cli/assets/js/4.b3425f3c.js"><link rel="prefetch" href="/nornj-cli/assets/js/40.e7f84947.js"><link rel="prefetch" href="/nornj-cli/assets/js/41.0bb8da68.js"><link rel="prefetch" href="/nornj-cli/assets/js/42.a8d54bd0.js"><link rel="prefetch" href="/nornj-cli/assets/js/43.81ec9ade.js"><link rel="prefetch" href="/nornj-cli/assets/js/44.6087ec7c.js"><link rel="prefetch" href="/nornj-cli/assets/js/45.398edd74.js"><link rel="prefetch" href="/nornj-cli/assets/js/46.16d2db5d.js"><link rel="prefetch" href="/nornj-cli/assets/js/47.2272003f.js"><link rel="prefetch" href="/nornj-cli/assets/js/48.ac7336ae.js"><link rel="prefetch" href="/nornj-cli/assets/js/49.f9a296c9.js"><link rel="prefetch" href="/nornj-cli/assets/js/5.a1c47062.js"><link rel="prefetch" href="/nornj-cli/assets/js/50.c22cefbe.js"><link rel="prefetch" href="/nornj-cli/assets/js/51.9d6f247f.js"><link rel="prefetch" href="/nornj-cli/assets/js/52.81bc0e56.js"><link rel="prefetch" href="/nornj-cli/assets/js/53.d38df6d7.js"><link rel="prefetch" href="/nornj-cli/assets/js/54.944047c2.js"><link rel="prefetch" href="/nornj-cli/assets/js/55.7ad50c4a.js"><link rel="prefetch" href="/nornj-cli/assets/js/56.2715648f.js"><link rel="prefetch" href="/nornj-cli/assets/js/57.a91747e2.js"><link rel="prefetch" href="/nornj-cli/assets/js/58.7613de44.js"><link rel="prefetch" href="/nornj-cli/assets/js/59.106fb976.js"><link rel="prefetch" href="/nornj-cli/assets/js/6.9275d20c.js"><link rel="prefetch" href="/nornj-cli/assets/js/60.04a83941.js"><link rel="prefetch" href="/nornj-cli/assets/js/61.187d092f.js"><link rel="prefetch" href="/nornj-cli/assets/js/62.3e07a9e7.js"><link rel="prefetch" href="/nornj-cli/assets/js/63.c64152ae.js"><link rel="prefetch" href="/nornj-cli/assets/js/65.c9a7394b.js"><link rel="prefetch" href="/nornj-cli/assets/js/66.34099aad.js"><link rel="prefetch" href="/nornj-cli/assets/js/67.7ad0e778.js"><link rel="prefetch" href="/nornj-cli/assets/js/68.acf93dfe.js"><link rel="prefetch" href="/nornj-cli/assets/js/69.0cc0ff29.js"><link rel="prefetch" href="/nornj-cli/assets/js/7.4eafd19b.js"><link rel="prefetch" href="/nornj-cli/assets/js/70.28a141d8.js"><link rel="prefetch" href="/nornj-cli/assets/js/71.ec4a6399.js"><link rel="prefetch" href="/nornj-cli/assets/js/72.e63aa437.js"><link rel="prefetch" href="/nornj-cli/assets/js/73.21ebb547.js"><link rel="prefetch" href="/nornj-cli/assets/js/8.e0b21abc.js"><link rel="prefetch" href="/nornj-cli/assets/js/9.1ff32274.js"><link rel="prefetch" href="/nornj-cli/assets/js/vendors~docsearch.192c4e2d.js">
    <link rel="stylesheet" href="/nornj-cli/assets/css/0.styles.f1bfe761.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/nornj-cli/zh/" class="home-link router-link-active"><!----> <span class="site-name">NornJ CLI</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/nornj-cli/zh/guide/installation.html" class="nav-link">指南</a></div><div class="nav-item"><a href="/nornj-cli/zh/config/" class="nav-link">配置参考</a></div><div class="nav-item"><a href="/nornj-cli/zh/dev-guide/" class="nav-link">扩展开发指南</a></div><div class="nav-item"><a href="https://github.com/joe-sky/nornj-cli/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  更新记录
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/nornj-cli/guide/deployment.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/nornj-cli/zh/guide/deployment.html" class="nav-link router-link-exact-active router-link-active">简体中文</a></li></ul></div></div> <a href="https://github.com/joe-sky/nornj-cli" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/nornj-cli/zh/guide/installation.html" class="nav-link">指南</a></div><div class="nav-item"><a href="/nornj-cli/zh/config/" class="nav-link">配置参考</a></div><div class="nav-item"><a href="/nornj-cli/zh/dev-guide/" class="nav-link">扩展开发指南</a></div><div class="nav-item"><a href="https://github.com/joe-sky/nornj-cli/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  更新记录
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/nornj-cli/guide/deployment.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/nornj-cli/zh/guide/deployment.html" class="nav-link router-link-exact-active router-link-active">简体中文</a></li></ul></div></div> <a href="https://github.com/joe-sky/nornj-cli" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/nornj-cli/zh/guide/installation.html" class="sidebar-link">安装</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/nornj-cli/zh/guide/creating-a-project.html" class="sidebar-link">创建一个项目</a></li><li><a href="/nornj-cli/zh/guide/preset-project-templates.html" class="sidebar-link">预置的项目模板</a></li><li><a href="/nornj-cli/zh/guide/creating-a-page.html" class="sidebar-link">创建一个页面</a></li><li><a href="/nornj-cli/zh/guide/creating-a-component.html" class="sidebar-link">创建一个组件</a></li><li><a href="/nornj-cli/zh/guide/creating-a-store.html" class="sidebar-link">创建一个 Store</a></li><li><a href="/nornj-cli/zh/guide/upgrade.html" class="sidebar-link">CLI 升级</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>开发</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/nornj-cli/zh/guide/browser-compatibility.html" class="sidebar-link">浏览器兼容性</a></li><li><a href="/nornj-cli/zh/guide/html-and-static-assets.html" class="sidebar-link">HTML 和静态资源</a></li><li><a href="/nornj-cli/zh/guide/css.html" class="sidebar-link">CSS 相关</a></li><li><a href="/nornj-cli/zh/guide/webpack.html" class="sidebar-link">webpack 相关</a></li><li><a href="/nornj-cli/zh/guide/mode-and-env.html" class="sidebar-link">环境变量和模式</a></li><li><a href="/nornj-cli/zh/guide/build-targets.html" class="sidebar-link">构建目标</a></li><li><a href="/nornj-cli/zh/guide/deployment.html" class="active sidebar-link">部署</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nornj-cli/zh/guide/deployment.html#通用指南" class="sidebar-link">通用指南</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nornj-cli/zh/guide/deployment.html#本地预览" class="sidebar-link">本地预览</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/guide/deployment.html#使用-history-pushstate-的路由" class="sidebar-link">使用 history.pushState 的路由</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/guide/deployment.html#cors" class="sidebar-link">CORS</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/guide/deployment.html#pwa" class="sidebar-link">PWA</a></li></ul></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/guide/deployment.html#platform-guides" class="sidebar-link">Platform Guides</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nornj-cli/zh/guide/deployment.html#github-pages" class="sidebar-link">GitHub Pages</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/guide/deployment.html#gitlab-pages" class="sidebar-link">GitLab Pages</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/guide/deployment.html#netlify" class="sidebar-link">Netlify</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/guide/deployment.html#amazon-s3" class="sidebar-link">Amazon S3</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/guide/deployment.html#firebase" class="sidebar-link">Firebase</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/guide/deployment.html#now" class="sidebar-link">Now</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/guide/deployment.html#stdlib" class="sidebar-link">Stdlib</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/guide/deployment.html#heroku" class="sidebar-link">Heroku</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/guide/deployment.html#surge" class="sidebar-link">Surge</a></li><li class="sidebar-sub-header"><a href="/nornj-cli/zh/guide/deployment.html#bitbucket-cloud" class="sidebar-link">Bitbucket Cloud</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="部署"><a href="#部署" aria-hidden="true" class="header-anchor">#</a> 部署</h1> <h2 id="通用指南"><a href="#通用指南" aria-hidden="true" class="header-anchor">#</a> 通用指南</h2> <p>如果你用 Vue CLI 处理静态资源并和后端框架一起作为部署的一部分，那么你需要的仅仅是确保 Vue CLI 生成的构建文件在正确的位置，并遵循后端框架的发布方式即可。</p> <p>如果你独立于后端部署前端应用——也就是说后端暴露一个前端可访问的 API，然后前端实际上是纯静态应用。那么你可以将 <code>dist</code> 目录里构建的内容部署到任何静态文件服务器中，但要确保正确的 <a href="/nornj-cli/zh/config/#publicpath">publicPath</a>。</p> <h3 id="本地预览"><a href="#本地预览" aria-hidden="true" class="header-anchor">#</a> 本地预览</h3> <p><code>dist</code> 目录需要启动一个 HTTP 服务器来访问 (除非你已经将 <code>publicPath</code> 配置为了一个相对的值)，所以以 <code>file://</code> 协议直接打开 <code>dist/index.html</code> 是不会工作的。在本地预览生产环境构建最简单的方式就是使用一个 Node.js 静态文件服务器，例如 <a href="https://github.com/zeit/serve" target="_blank" rel="noopener noreferrer">serve<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -g serve
<span class="token comment"># -s 参数的意思是将其架设在 Single-Page Application 模式下</span>
<span class="token comment"># 这个模式会处理即将提到的路由问题</span>
serve -s dist
</code></pre></div><h3 id="使用-history-pushstate-的路由"><a href="#使用-history-pushstate-的路由" aria-hidden="true" class="header-anchor">#</a> 使用 <code>history.pushState</code> 的路由</h3> <p>如果你在 <code>history</code> 模式下使用 Vue Router，是无法搭配简单的静态文件服务器的。例如，如果你使用 Vue Router 为 <code>/todos/42/</code> 定义了一个路由，开发服务器已经配置了相应的 <code>localhost:3000/todos/42</code> 响应，但是一个为生产环境构建架设的简单的静态服务器会却会返回 404。</p> <p>为了解决这个问题，你需要配置生产环境服务器，将任何没有匹配到静态文件的请求回退到 <code>index.html</code>。Vue Router 的文档提供了<a href="https://router.vuejs.org/zh/guide/essentials/history-mode.html" target="_blank" rel="noopener noreferrer">常用服务器配置指引<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <h3 id="cors"><a href="#cors" aria-hidden="true" class="header-anchor">#</a> CORS</h3> <p>如果前端静态内容是部署在与后端 API 不同的域名上，你需要适当地配置 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Access_control_CORS" target="_blank" rel="noopener noreferrer">CORS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <h3 id="pwa"><a href="#pwa" aria-hidden="true" class="header-anchor">#</a> PWA</h3> <p>如果你使用了 PWA 插件，那么应用必须架设在 HTTPS 上，这样 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Service_Worker_API" target="_blank" rel="noopener noreferrer">Service Worker<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 才能被正确注册。</p> <h2 id="platform-guides"><a href="#platform-guides" aria-hidden="true" class="header-anchor">#</a> Platform Guides</h2> <p>(暂未翻译，此部分英文文档处于开放贡献中)</p> <h3 id="github-pages"><a href="#github-pages" aria-hidden="true" class="header-anchor">#</a> GitHub Pages</h3> <ol><li><p>在 <code>vue.config.js</code> 中设置正确的 <code>publicPath</code>。</p> <p>如果打算将项目部署到 <code>https://&lt;USERNAME&gt;.github.io/</code> 上 , <code>publicPath</code> 将默认被设为 <code>&quot;/&quot;</code>，你可以忽略这个参数。</p> <p>如果打算将项目部署到 <code>https://&lt;USERNAME&gt;.github.io/&lt;REPO&gt;/</code> 上, (换句话说 仓库地址为 <code>https://github.com/&lt;USERNAME&gt;/&lt;REPO&gt;</code>), 可将 <code>publicPath</code> 设为 <code>&quot;/&lt;REPO&gt;/&quot;</code> 。 举个例子， 如果仓库名字为 &quot;my-project&quot;，<code>vue.config.js</code> 的内容应如下所示:</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  publicPath<span class="token punctuation">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span>
    <span class="token operator">?</span> <span class="token string">'/my-project/'</span>
    <span class="token punctuation">:</span> <span class="token string">'/'</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>在项目目录下， 用以下的代码创建 <code>deploy.sh</code>（可以适当地取消注释）并运行它以进行部署：</p> <div class="language-bash extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><div class="highlighted"> </div><br><br><div class="highlighted"> </div><br><br><br></div><pre class="language-bash"><code><span class="token comment">#!/usr/bin/env sh</span>

<span class="token comment"># 当发生错误时中止脚本</span>
<span class="token keyword">set</span> -e

<span class="token comment"># 构建</span>
<span class="token function">npm</span> run build

<span class="token comment"># cd 到构建输出的目录下 </span>
<span class="token function">cd</span> dist

<span class="token comment"># 部署到自定义域域名</span>
<span class="token comment"># echo 'www.example.com' &gt; CNAME</span>

<span class="token function">git</span> init
<span class="token function">git</span> <span class="token function">add</span> -A
<span class="token function">git</span> commit -m <span class="token string">'deploy'</span>

<span class="token comment"># 部署到 https://&lt;USERNAME&gt;.github.io</span>
<span class="token comment"># git push -f git@github.com:&lt;USERNAME&gt;/&lt;USERNAME&gt;.github.io.git master</span>

<span class="token comment"># 部署到 https://&lt;USERNAME&gt;.github.io/&lt;REPO&gt;</span>
<span class="token comment"># git push -f git@github.com:&lt;USERNAME&gt;/&lt;REPO&gt;.git master:gh-pages</span>

<span class="token function">cd</span> -
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">提示</p> <p>您还可以在 CI 设置中配置上述脚本，以便在每次推送时启用自动部署。</p></div></li></ol> <h3 id="gitlab-pages"><a href="#gitlab-pages" aria-hidden="true" class="header-anchor">#</a> GitLab Pages</h3> <p>根据 <a href="https://docs.gitlab.com/ee/user/project/pages/" target="_blank" rel="noopener noreferrer">GitLab Pages 文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>的描述，所有的配置都在根目录中的<code>.gitlab-ci.yml</code> 文件中。下面的范例是一个很好的入门:</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token comment"># .gitlab-ci.yml 文件应放在你仓库的根目录下 </span>

<span class="token key atrule">pages</span><span class="token punctuation">:</span> <span class="token comment"># 必须定义一个名为 pages 的 job</span>
  <span class="token key atrule">image</span><span class="token punctuation">:</span> node<span class="token punctuation">:</span>latest
  <span class="token key atrule">stage</span><span class="token punctuation">:</span> deploy
  <span class="token key atrule">script</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> npm ci
    <span class="token punctuation">-</span> npm run build
    <span class="token punctuation">-</span> mv public public<span class="token punctuation">-</span>vue <span class="token comment"># GitLab Pages 的钩子设置在 public 文件夹</span>
    <span class="token punctuation">-</span> mv dist public <span class="token comment"># 重命名 dist 文件夹 (npm run build 之后的输出位置)</span>
  <span class="token key atrule">artifacts</span><span class="token punctuation">:</span>
    <span class="token key atrule">paths</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> public <span class="token comment"># artifact path 一定要在 /public , 这样 GitLab Pages 才能获取</span>
  <span class="token key atrule">only</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> master
</code></pre></div><p>通常, 你的静态页面将托管在 https://yourUserName.gitlab.io/yourProjectName 上, 所以你可以创建一个 initial <code>vue.config.js</code> 文件去 <a href="https://github.com/vuejs/vue-cli/tree/dev/docs/config#baseurl" target="_blank" rel="noopener noreferrer">更新 <code>BASE_URL</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 要匹配的值 ：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// vue.config.js 位于仓库的根目录下</span>
<span class="token comment">// 确保用 GitLab 项目的名称替换了 `YourProjectName`</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  publicPath<span class="token punctuation">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span>
    <span class="token operator">?</span> <span class="token string">'/yourProjectName/'</span>
    <span class="token punctuation">:</span> <span class="token string">'/'</span>
<span class="token punctuation">}</span>
</code></pre></div><p>请阅读在 <a href="https://docs.gitlab.com/ee/user/project/pages/getting_started_part_one.html#gitlab-pages-domain" target="_blank" rel="noopener noreferrer">GitLab Pages domains<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 的文档来学习更多关于页面部署 URL 的信息。注意，你也可以<a href="https://docs.gitlab.com/ee/user/project/pages/getting_started_part_three.html#adding-your-custom-domain-to-gitlab-pages" target="_blank" rel="noopener noreferrer">使用自定义域名<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <p>在推送到仓库之前提交 <code>.gitlab-ci.yml</code> 和 <code>vue.config.js</code> 文件。GitLab CI 的管道将会被触发: 当成功时候, 到 <code>Settings &gt; Pages</code> 查看关于网站的链接。</p> <h3 id="netlify"><a href="#netlify" aria-hidden="true" class="header-anchor">#</a> Netlify</h3> <ol><li><p>在 Netlify 上，使用以下设置从 GitHub 创建新项目:</p> <ul><li><strong>构建命令:</strong> <code>npm run build</code> or <code>yarn build</code></li> <li><strong>发布目录:</strong> <code>dist</code></li></ul></li> <li><p>点击 deploy 按钮！</p></li></ol> <p>也可以查看 <a href="https://github.com/netlify/vue-cli-plugin-netlify-lambda" target="_blank" rel="noopener noreferrer">vue-cli-plugin-netlify-lambda<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <h3 id="amazon-s3"><a href="#amazon-s3" aria-hidden="true" class="header-anchor">#</a> Amazon S3</h3> <p>见 <a href="https://github.com/multiplegeorges/vue-cli-plugin-s3-deploy" target="_blank" rel="noopener noreferrer">vue-cli-plugin-s3-deploy<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <h3 id="firebase"><a href="#firebase" aria-hidden="true" class="header-anchor">#</a> Firebase</h3> <p>创建一个新的 Firebase 项目 <a href="https://console.firebase.google.com" target="_blank" rel="noopener noreferrer">Firebase console<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。 请参考<a href="https://firebase.google.com/docs/web/setup" target="_blank" rel="noopener noreferrer">文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <p>确保已经全局安装了 <a href="https://github.com/firebase/firebase-tools" target="_blank" rel="noopener noreferrer">firebase-tools<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ：</p> <div class="language- extra-class"><pre class="language-text"><code>npm install -g firebase-tools
</code></pre></div><p>在项目的根目录下, 用以下命令初始化 <code>firebase</code> ：</p> <div class="language- extra-class"><pre class="language-text"><code>firebase init
</code></pre></div><p>Firebase 将会询问有关初始化项目的一些问题。</p> <ul><li>选择需要 Firebase CLI 的功能。 一定要选择 <code>hosting</code> 。</li> <li>选择默认的 Firebase 项目。</li> <li>将 <code>public</code> 目录设为 <code>dist</code> (或构建输出的位置) 这将会上传到 Firebase Hosting。</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// firebase.json</span>

<span class="token punctuation">{</span>
  <span class="token string">&quot;hosting&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;public&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;dist&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>选择 <code>yes</code> 设置项目为一个单页应用。 这将会创建一个 <code>index.html</code> 在 <code>dist</code> 文件夹并且配置 <code>hosting</code> 信息。</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// firebase.json</span>

<span class="token punctuation">{</span>
  <span class="token string">&quot;hosting&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;rewrites&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;source&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;**&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;destination&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;/index.html&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>执行 <code>npm run build</code> 去构建项目。</p> <p>在 <code>Firebase Hosting</code> 部署项目，执行以下命令 ：</p> <div class="language- extra-class"><pre class="language-text"><code>firebase deploy --only hosting
</code></pre></div><p>如果需要在部署的项目中使用的其他 Firebase CLI 功能， 执行 <code>firebase deploy</code> 去掉 <code>--only</code> 参数。</p> <p>现在可以到 <code>https://&lt;YOUR-PROJECT-ID&gt;.firebaseapp.com</code> 访问你的项目了。</p> <p>请参考 <a href="https://firebase.google.com/docs/hosting/deploying" target="_blank" rel="noopener noreferrer">Firebase 文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 来获取更多细节。</p> <h3 id="now"><a href="#now" aria-hidden="true" class="header-anchor">#</a> Now</h3> <ol><li><p>全局安装 Now CLI: <code>npm install -g now</code></p></li> <li><p>添加 <code>now.json</code> 文件到项目根目录 ：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;my-example-app&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;static&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;static&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;public&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rewrites&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;source&quot;</span><span class="token operator">:</span> <span class="token string">&quot;**&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;destination&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/index.html&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;alias&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vue-example&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;files&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;dist&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>您可以通过阅读来进一步了解自定义静态服务的信息 <a href="https://zeit.co/docs/deployment-types/static" target="_blank" rel="noopener noreferrer">Now's 文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p></li> <li><p>在 <code>package.json</code> 中添加部署脚本：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;deploy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npm run build &amp;&amp; now &amp;&amp; now alias&quot;</span>
</code></pre></div><p>如果想要将项目默认公开部署，部署脚本如下</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;deploy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npm run build &amp;&amp; now --public &amp;&amp; now alias&quot;</span>
</code></pre></div><p>这将自动将站点的别名指向最新的部署。现在，只要运行 <code>npm run deploy</code> 就可以部署你的应用。</p></li></ol> <h3 id="stdlib"><a href="#stdlib" aria-hidden="true" class="header-anchor">#</a> Stdlib</h3> <blockquote><p>TODO | Open to contribution.</p></blockquote> <h3 id="heroku"><a href="#heroku" aria-hidden="true" class="header-anchor">#</a> Heroku</h3> <blockquote><p>TODO | Open to contribution.</p></blockquote> <h3 id="surge"><a href="#surge" aria-hidden="true" class="header-anchor">#</a> Surge</h3> <p>要使用 <a href="http://surge.sh/" target="_blank" rel="noopener noreferrer">Surge<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 进行部署，步骤非常简单。</p> <p>首先，通过运行 <code>npm run build</code> 来构建项目。如果还没有安装 Surge 的命令行工具，可以通过运行命令来执行此操作：</p> <div class="language- extra-class"><pre class="language-text"><code>npm install --global surge
</code></pre></div><p>然后 cd 进入项目的 <code>dist/</code> 文件夹，然后运行 <code>surge</code> 并按照屏幕提示操作 。如果是第一次使用 Surge，它会要求设置电子邮件和密码。确认项目文件夹以及输入首选域来查看正在部署的项目，如下所示。</p> <div class="language- extra-class"><pre class="language-text"><code>            project: /Users/user/Documents/myawesomeproject/dist/
         domain: myawesomeproject.surge.sh
         upload: [====================] 100% eta: 0.0s (31 files, 494256 bytes)
            CDN: [====================] 100%
             IP: **.**.***.***

   Success! - Published to myawesomeproject.surge.sh
</code></pre></div><p>通过访问 <code>myawesomeproject.surge.sh</code> 来确保你的项目已经成功的用 Surge 发布，有关自定义域名等更多设置详细信息，可以到 <a href="https://surge.sh/help/" target="_blank" rel="noopener noreferrer">Surge's help page<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 查看。</p> <h3 id="bitbucket-cloud"><a href="#bitbucket-cloud" aria-hidden="true" class="header-anchor">#</a> Bitbucket Cloud</h3> <ol><li><p>如 <a href="https://confluence.atlassian.com/bitbucket/publishing-a-website-on-bitbucket-cloud-221449776.html" target="_blank" rel="noopener noreferrer">Bitbucket 文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 创建一个命名为 <code>&lt;USERNAME&gt;.bitbucket.io</code> 的仓库。</p></li> <li><p>如果你想拥有多个网站， 想要发布到主仓库的子文件夹中。这种情况下就要在 <code>vue.config.js</code> 设置 <code>publicPath</code>。</p> <p>如果部署到 <code>https://&lt;USERNAME&gt;.bitbucket.io/</code>， <code>publicPath</code> 默认将被设为 <code>&quot;/&quot;</code>，你可以选择忽略它。</p> <p>如果要部署到 <code>https://&lt;USERNAME&gt;.bitbucket.io/&lt;SUBFOLDER&gt;/</code>，设置 <code>publicPath</code> 为 <code>&quot;/&lt;SUBFOLDER&gt;/&quot;</code>。在这种情况下，仓库的目录结构应该反映 url 结构，例如仓库应该有 <code>/&lt;SUBFOLDER&gt;</code> 目录。</p></li> <li><p>在项目中， <code>deploy.sh</code> 使用以下内容创建并运行它以进行部署：</p> <div class="language-bash extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br></div><pre class="language-bash"><code><span class="token comment">#!/usr/bin/env sh</span>

<span class="token comment"># 当发生错误时中止脚本</span>
<span class="token keyword">set</span> -e

<span class="token comment"># 构建</span>
<span class="token function">npm</span> run build

<span class="token comment"># cd 到构建输出的目录</span>
<span class="token function">cd</span> dist

<span class="token function">git</span> init
<span class="token function">git</span> <span class="token function">add</span> -A
<span class="token function">git</span> commit -m <span class="token string">'deploy'</span>

<span class="token function">git</span> push -f git@bitbucket.org:<span class="token operator">&lt;</span>USERNAME<span class="token operator">&gt;</span>/<span class="token operator">&lt;</span>USERNAME<span class="token operator">&gt;</span>.bitbucket.io.git master

<span class="token function">cd</span> -
</code></pre></div></li></ol></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/joe-sky/nornj-cli/edit/master/docs/zh/guide/deployment.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次编辑时间: </span> <span class="time">2019-6-24 19:53:13</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/nornj-cli/zh/guide/build-targets.html" class="prev">
          构建目标
        </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/nornj-cli/assets/js/app.261fa4a4.js" defer></script><script src="/nornj-cli/assets/js/3.bc847c09.js" defer></script><script src="/nornj-cli/assets/js/64.402b88dd.js" defer></script>
  </body>
</html>
