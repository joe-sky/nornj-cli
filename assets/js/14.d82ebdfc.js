(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{248:function(e,t,a){"use strict";a.r(t);var n=a(0),s=Object(n.a)({},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"vue-cli-plugin-pwa"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli-plugin-pwa","aria-hidden":"true"}},[e._v("#")]),e._v(" @vue/cli-plugin-pwa")]),e._v(" "),a("blockquote",[a("p",[e._v("pwa plugin for vue-cli")])]),e._v(" "),a("p",[e._v("The service worker added with this plugin is only enabled in the production environment (e.g. only if you run "),a("code",[e._v("npm run build")]),e._v(" or "),a("code",[e._v("yarn build")]),e._v("). Enabling service worker in a development mode is not a recommended practice, because it can lead to the situation when previously cached assets are used and the latest local changes are not included.")]),e._v(" "),a("p",[e._v("Instead, in the development mode the "),a("code",[e._v("noopServiceWorker.js")]),e._v(" is included. This service worker file is effectively a 'no-op' that will reset any previous service worker registered for the same host:port combination.")]),e._v(" "),a("p",[e._v("If you need to test a service worker locally, build the application and run a simple HTTP-server from your build directory. It's recommended to use a browser incognito window to avoid complications with your browser cache.")]),e._v(" "),a("h2",{attrs:{id:"configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuration","aria-hidden":"true"}},[e._v("#")]),e._v(" Configuration")]),e._v(" "),a("p",[e._v("Configuration is handled via the "),a("code",[e._v("pwa")]),e._v(" property of either the "),a("code",[e._v("vue.config.js")]),e._v("\nfile, or the "),a("code",[e._v('"vue"')]),e._v(" field in "),a("code",[e._v("package.json")]),e._v(".")]),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[e._v("pwa.workboxPluginMode")])]),e._v(" "),a("p",[e._v("This allows you to the choose between the two modes supported by the underlying\n"),a("a",{attrs:{href:"https://developers.google.com/web/tools/workbox/modules/workbox-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("workbox-webpack-plugin")]),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("ul",[a("li",[a("p",[a("code",[e._v("'GenerateSW'")]),e._v(" (default), will lead to a new service worker file being created\neach time you rebuild your web app.")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("'InjectManifest'")]),e._v(' allows you to start with an existing service worker file,\nand creates a copy of that file with a "precache manifest" injected into it.')])])]),e._v(" "),a("p",[e._v('The "'),a("a",{attrs:{href:"https://developers.google.com/web/tools/workbox/modules/workbox-webpack-plugin#which_plugin_to_use",target:"_blank",rel:"noopener noreferrer"}},[e._v("Which Plugin to Use?"),a("OutboundLink")],1),e._v('"\nguide can help you choose between the two modes.')])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("pwa.workboxOptions")])]),e._v(" "),a("p",[e._v("These options are passed on through to the underlying "),a("code",[e._v("workbox-webpack-plugin")]),e._v(".")]),e._v(" "),a("p",[e._v("For more information on what values are supported, please see the guide for\n"),a("a",{attrs:{href:"https://developers.google.com/web/tools/workbox/modules/workbox-webpack-plugin#full_generatesw_config",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("GenerateSW")]),a("OutboundLink")],1),e._v("\nor for "),a("a",{attrs:{href:"https://developers.google.com/web/tools/workbox/modules/workbox-webpack-plugin#full_injectmanifest_config",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("InjectManifest")]),a("OutboundLink")],1),e._v(".")])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("pwa.name")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v('Default: "name" field in '),a("code",[e._v("package.json")])]),e._v(" "),a("p",[e._v("Used as the value for the "),a("code",[e._v("apple-mobile-web-app-title")]),e._v(" meta tag in the generated HTML. Note you will need to edit "),a("code",[e._v("public/manifest.json")]),e._v(" to match this.")])])])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("pwa.themeColor")])]),e._v(" "),a("ul",[a("li",[e._v("Default: "),a("code",[e._v("'#4DBA87'")])])])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("pwa.msTileColor")])]),e._v(" "),a("ul",[a("li",[e._v("Default: "),a("code",[e._v("'#000000'")])])])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("pwa.appleMobileWebAppCapable")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Default: "),a("code",[e._v("'no'")])]),e._v(" "),a("p",[e._v("This defaults to "),a("code",[e._v("'no'")]),e._v(" because iOS before 11.3 does not have proper PWA support. See "),a("a",{attrs:{href:"https://medium.com/@firt/dont-use-ios-web-app-meta-tag-irresponsibly-in-your-progressive-web-apps-85d70f4438cb",target:"_blank",rel:"noopener noreferrer"}},[e._v("this article"),a("OutboundLink")],1),e._v(" for more details.")])])])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("pwa.appleMobileWebAppStatusBarStyle")])]),e._v(" "),a("ul",[a("li",[e._v("Default: "),a("code",[e._v("'default'")])])])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("pwa.assetsVersion")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Default: "),a("code",[e._v("''")])]),e._v(" "),a("p",[e._v("This option is used if you need to add a version to your icons and manifest, against browser’s cache. This will append "),a("code",[e._v("?v=<pwa.assetsVersion>")]),e._v(" to the URLs of the icons and manifest.")])])])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("pwa.manifestPath")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Default: "),a("code",[e._v("'manifest.json'")])]),e._v(" "),a("p",[e._v("The path of app’s manifest.")])])])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("pwa.manifestOptions")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Default: "),a("code",[e._v("{}")])]),e._v(" "),a("p",[e._v("The object will be used to generate the "),a("code",[e._v("manifest.json")])]),e._v(" "),a("p",[e._v("If the following attributes are not defined in the object, the options of "),a("code",[e._v("pwa")]),e._v(" or default options will be used instead.")]),e._v(" "),a("ul",[a("li",[e._v("name: "),a("code",[e._v("pwa.name")])]),e._v(" "),a("li",[e._v("short_name: "),a("code",[e._v("pwa.name")])]),e._v(" "),a("li",[e._v("start_url: "),a("code",[e._v("'.'")])]),e._v(" "),a("li",[e._v("display: "),a("code",[e._v("'standalone'")])]),e._v(" "),a("li",[e._v("theme_color: "),a("code",[e._v("pwa.themeColor")])])])])])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("pwa.iconPaths")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Defaults:")]),e._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  favicon32"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'img/icons/favicon-32x32.png'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  favicon16"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'img/icons/favicon-16x16.png'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  appleTouchIcon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'img/icons/apple-touch-icon-152x152.png'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  maskIcon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'img/icons/safari-pinned-tab.svg'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  msTileImage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'img/icons/msapplication-icon-144x144.png'")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("p",[e._v("Change these values to use different paths for your icons.")])])])])]),e._v(" "),a("h3",{attrs:{id:"example-configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#example-configuration","aria-hidden":"true"}},[e._v("#")]),e._v(" Example Configuration")]),e._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Inside vue.config.js")]),e._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// ...other vue-cli plugin options...")]),e._v("\n  pwa"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'My App'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    themeColor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'#4DBA87'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    msTileColor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'#000000'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    appleMobileWebAppCapable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'yes'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    appleMobileWebAppStatusBarStyle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'black'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// configure the workbox plugin")]),e._v("\n    workboxPluginMode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'InjectManifest'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    workboxOptions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// swSrc is required in InjectManifest mode.")]),e._v("\n      swSrc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'dev/sw.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// ...other Workbox options...")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("h2",{attrs:{id:"installing-in-an-already-created-project"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installing-in-an-already-created-project","aria-hidden":"true"}},[e._v("#")]),e._v(" Installing in an Already Created Project")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("vue "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" @vue/pwa\n")])])]),a("h2",{attrs:{id:"injected-webpack-chain-rules"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#injected-webpack-chain-rules","aria-hidden":"true"}},[e._v("#")]),e._v(" Injected webpack-chain Rules")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("config.plugin('workbox')")])])])])},[],!1,null,null,null);t.default=s.exports}}]);