(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{220:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"快速起步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#快速起步","aria-hidden":"true"}},[t._v("#")]),t._v(" 快速起步")]),t._v(" "),a("p",[t._v("本节我们将使用"),a("code",[t._v("NornJ-cli")]),t._v("快速创建一个可以在浏览器中运行的项目脚手架。")]),t._v(" "),a("h2",{attrs:{id:"安装cli脚手架"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装cli脚手架","aria-hidden":"true"}},[t._v("#")]),t._v(" 安装CLI脚手架")]),t._v(" "),a("p",[t._v("输入命令：")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g nornj-cli      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mac下需要在前面加sudo命令")]),t._v("\n")])])]),a("h2",{attrs:{id:"使用cli脚手架初始化react-mobx-state-tree的前端项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用cli脚手架初始化react-mobx-state-tree的前端项目","aria-hidden":"true"}},[t._v("#")]),t._v(" 使用CLI脚手架初始化react + mobx-state-tree的前端项目")]),t._v(" "),a("p",[t._v("输入以下命令，会在当前目录创建新项目初始代码：")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("nj init\n\nPlease "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" a project template:\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" react-mst-universal  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 请选择项目模板")]),t._v("\n  react-mst-app\n  react-mst\n  react-mobx\n  other\n\nProject Name: react-mst-test           "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输入新创建项目的目录名称")]),t._v("\nDo you want to "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" install"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Y/N"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("?       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 选择是否安装npm包")]),t._v("\n")])])]),a("p",[t._v("输入"),a("code",[t._v("y")]),t._v("后，按回车键就会自动安装项目依赖的各npm包，大概等几分钟就可以装好：")]),t._v(" "),a("p",[a("img",{attrs:{src:"images/started1.png?raw=true",alt:"npm install"}})]),t._v(" "),a("h2",{attrs:{id:"生成的项目文件结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生成的项目文件结构","aria-hidden":"true"}},[t._v("#")]),t._v(" 生成的项目文件结构")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(".\n├── dist                              # 打包后的生产文件\n├── server                            # 本地mock server\n    ├── routes                          # 各页面mock接口\n        ├── page1.js                      # 页面1接口\n        ├── page2.js                      # 页面2接口\n        ...       \n    └── app.js                          # mock server入口\n├── src                               # 源代码\n    ├── stores                          # 数据集\n        ├── pages                         # 功能页面Store\n            ├── page1Store.js              # 页面1Store\n            ├── page2Store.js              # 页面2Store\n            ...       \n        ├── commonStore.js                # 通用Store\n        ├── headerStore.js                # 头部Store\n        ├── siderStore.js                 # 侧边栏Store\n        └── rootStore.js                  # 根Store\n    ├── utils                           # 通用工具\n    ├── vendor                          # 第三方工具包\n    └── web                             # 页面代码\n        ├── components                    # 通用组件\n            ├── header                      # 头部组件\n                ├── header.js                 # 头部组件逻辑\n                ├── header.scss               # 头部组件样式\n                └── header.t.html             # 头部组件模板\n            ├── sider                       # 侧边栏组件\n                ├── sider.js                  # 侧边栏组件逻辑\n                ├── sider.scss                # 侧边栏组件样式\n                └── sider.t.html              # 侧边栏组件模板\n            ...       \n        ├── css                           # 通用样式\n            ├── app.scss                    # 全局样式\n            └── common.scss                 # 全局通用sass工具函数\n        ├── images                        # 图片\n        ├── misc                          # 杂项\n        └── pages                         # 页面目录\n            ├── page1                       # 功能页面1\n                ├── page1.js                  # 页面1逻辑\n                ├── page1.m.scss              # 页面1样式\n                └── page1.t.html              # 页面1模板\n            ├── page2                       # 功能页面2\n                ├── page2.js                  # 页面2逻辑\n                ├── page2.m.scss              # 页面2样式\n                └── page2.t.html              # 页面2模板\n            ...       \n├── templates                         # 模板文件目录，供CLI脚手架创建页面等功能用\n├── .babelrc                          # Babel config\n├── .eslintrc                         # Eslint config\n├── .gitignore       \n├── app-web.js                        # 主页入口\n├── Bundle.js                         # 配合bunder-loader的React组件\n├── index.template-web.html           # 主页面html\n├── routes-web.js                     # 路由配置\n├── webpack.config.js                 # webpack配置文件\n└── package.json       \n")])])]),a("h2",{attrs:{id:"运行项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运行项目","aria-hidden":"true"}},[t._v("#")]),t._v(" 运行项目")]),t._v(" "),a("p",[t._v("用"),a("code",[t._v("cd react-mst-test")]),t._v("命令进入我们刚创建好的项目目录，然后输入命令：")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run dev-web\n")])])]),a("p",[t._v("然后会开始运行"),a("code",[t._v("webpack")]),t._v("构建过程，构建成功后请在浏览器输入地址："),a("code",[t._v("localhost:8080/dist/web")]),t._v("即可查看页面：")]),t._v(" "),a("p",[a("img",{attrs:{src:"images/started2.png?raw=true",alt:"run page"}})]),t._v(" "),a("h2",{attrs:{id:"添加新页面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加新页面","aria-hidden":"true"}},[t._v("#")]),t._v(" 添加新页面")]),t._v(" "),a("p",[t._v("在"),a("code",[t._v("react-mst-test")]),t._v("目录下输入如下命令：")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("nj ap\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 请选择要生成的页面类型")]),t._v("\nWhat "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("type")]),t._v(" of page "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" you want to generate ?\n  default  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 增删改查")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" chart    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 图表")]),t._v("\n  empty    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 空页面")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输入新创建的页面名称")]),t._v("\nPage Name: newChartPage\n")])])]),a("p",[t._v("输入"),a("code",[t._v("y")]),t._v("后，按回车键就会立即创建好一个新建的图表页面，且各子目录下的"),a("code",[t._v("newChartPage")]),t._v("文件都已创建好了：")]),t._v(" "),a("p",[a("img",{attrs:{src:"images/started3.png?raw=true",alt:"run page"}})]),t._v(" "),a("h2",{attrs:{id:"运行新添加的页面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运行新添加的页面","aria-hidden":"true"}},[t._v("#")]),t._v(" 运行新添加的页面")]),t._v(" "),a("p",[t._v("打开"),a("code",[t._v("react-mst-test/src/stores/rootStore.js")]),t._v("文件，将这里的第一个菜单中的第一个页面名称"),a("code",[t._v("Page1_1")]),t._v("改为"),a("code",[t._v("NewChartPage")]),t._v("：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("sider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" types"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("optional")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SiderStore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  isOpen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  current"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'page1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  menuData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'group'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Menu1_1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'一级菜单1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    expanded"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    children"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'group'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Menu2_1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'二级菜单1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      expanded"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      children"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'item'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" level"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" link"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/NewChartPage'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'NewChartPage'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'页面1-1'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'item'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" level"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" link"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/Page1_2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Page1_2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'页面1-2'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("p",[t._v("再次运行命令进行构建：")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run dev-web\n")])])]),a("p",[t._v("然后在浏览器输入地址："),a("code",[t._v("localhost:8080/dist/web")]),t._v("查看页面，新创建的图表页已展示出来了：")]),t._v(" "),a("p",[a("img",{attrs:{src:"images/started4.png?raw=true",alt:"run page"}})]),t._v(" "),a("h2",{attrs:{id:"下一步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下一步","aria-hidden":"true"}},[t._v("#")]),t._v(" 下一步")]),t._v(" "),a("p",[t._v("至此，我们已创建好了一个基于"),a("code",[t._v("React + Mobx + NornJ")]),t._v("的前端项目，下一步我们将逐个为项目中使用的技术做一个详实的介绍。")]),t._v(" "),a("p",{attrs:{align:"left"}},[t._v("← "),a("a",{attrs:{href:"overview.md"}},[a("b",[t._v("返回总览")])])]),t._v(" "),a("p",{attrs:{align:"right"}},[a("a",{attrs:{href:"nornjTemplate.md"}},[a("b",[t._v("使用NornJ前端模板结合React开发")])]),t._v(" →")])])},[],!1,null,null,null);s.default=e.exports}}]);